(function(t){function e(e){for(var s,n,c=e[0],o=e[1],l=e[2],u=0,_=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&_.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(_.length)_.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("13d5"),a("fb6a"),a("45fc"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0"),a("2532"),a("466d"),a("5319"),a("1276"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("bc3a"),r=a.n(i),n=a("a7fe"),c=a.n(n),o=(a("4989"),a("1157")),l=a.n(o),d=a("339e"),u=a.n(d),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark navbar-expand-md"},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"},on:{click:function(e){t.selectCoach(),t.menu="Coaches"}}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:"/static/images/Imperium.jpg",width:"24",alt:""}}),a("div",{staticClass:"d-inline-block pl-2"},[t._v(" REBBL Imperium")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"Coaches"==t.menu}},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){t.menu="Coaches"}}},[t._v("Coaches")])]),a("li",{staticClass:"nav-item",class:{active:"Tournaments"==t.menu}},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){t.menu="Tournaments"}}},[t._v("Tournaments")])]),a("li",{staticClass:"nav-item",class:{active:"Leaderboard"==t.menu}},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){t.menu="Leaderboard"}}},[t._v("Leaderboard")])]),t._m(1),t._m(2)]),a("ul",{staticClass:"navbar-nav"},[t.user.username?a("li",{staticClass:"nav-item"},[a("span",{staticClass:"navbar-text"},[t._v("Welcome "+t._s(t.user.username))]),a("img",{staticClass:"ml-2 avatar",attrs:{src:"https://cdn.discordapp.com/avatars/"+t.user.id+"/"+t.user.avatar+".png"}})]):t._e(),0==t.user.code?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/signin"}},[t._v("Signin")])]):t._e()])])])]),a("div",{staticClass:"container-fluid pt-2"},[a("flash-message",{staticClass:"flashpool",attrs:{transitionIn:"animated swing"}}),"Coaches"==t.menu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-auto"},[a("div",{staticClass:"form-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"coach_filter",placeholder:"Search..."},domProps:{value:t.coach_filter},on:{input:function(e){return t.debounceCoachSearch(e.target.value)}}})]),a("div",{staticClass:"list-group",attrs:{id:"coach-list",role:"tablist"}},t._l(t.filteredCoaches,(function(e){return a("a",{key:e.id,staticClass:"list-group-item list-group-item-action",attrs:{"data-toggle":"list",href:"#coachDisplay",role:"tab","aria-controls":"home"},on:{click:function(a){return t.getCoach(e.id)}}},[t._v(t._s(e.short_name))])})),0)]),a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"tab-content show",attrs:{id:"nav-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coachDisplay",role:"tabpanel","aria-labelledby":"coach"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"coachTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"cards-tab","data-toggle":"tab",href:"#coach_cards",role:"tab","aria-controls":"coach_cards"}},[t._v(" "+t._s(t.selectedCoach.short_name)+"'s Cards ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"info-tab","data-toggle":"tab",href:"#coach_info",role:"tab","aria-controls":"coach_info","aria-selected":"true"}},[t._v(" "+t._s(t.selectedCoach.short_name)+"'s Info ")])]),t.is_owner?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"dusting-tab","data-toggle":"tab",href:"#coach_dusting",role:"tab","aria-controls":"coach_dusting","aria-selected":"false"}},[t._v("Dusting")])]):t._e(),t._m(3),t._m(4)]),a("div",{staticClass:"tab-content",attrs:{id:"coachTabContent"}},[a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_info",role:"tabpanel","aria-labelledby":"info-tab"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",{staticClass:"coach_info"},[t._v(" Bank: "),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.selectedCoach.account.amount)+" coins ")])])]),t._m(5),a("div",{staticClass:"col-3"},[t.is_webadmin?a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCoach.bb2_name,expression:"selectedCoach.bb2_name"}],staticClass:"form-control col-11 coach_info",attrs:{id:"bb2_name"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selectedCoach,"bb2_name",e.target.multiple?a:a[0])},function(e){return t.linkBB2Name()}]}},[a("option",{attrs:{selected:"",value:""}},[t._v("None")]),t._l(t.bb2_names,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]):a("div",[a("h5",{staticClass:"coach_info"},[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.selectedCoach.bb2_name)+" ")])])])]),a("div",{staticClass:"col-12"},[a("h5",{staticClass:"coach_info"},[t._v(" Free Packs: "),a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getFreePacks(t.selectedCoach))+" ")])])]),a("div",{staticClass:"tab-content show col-12",attrs:{id:"accordionTournamentsCoach"}},[a("h5",{staticClass:"coach_info"},[t._v("Tournaments:")]),t._l(t.tournamentsFor(t.selectedCoach),(function(e){return a("tournament",{key:e.tournament_id,attrs:{id:"tourn"+e.tournament_id+"coach",role:"tabpanel","aria-labelledby":"tournament",tournament:e,coaches:t.coaches,"data-parent":"#accordionTournamentsCoach",user:t.user}})}))],2),a("div",{staticClass:"col-12"},[a("h5",{staticClass:"coach_info"},[t._v("Transactions:")]),a("table",{staticClass:"table table-striped"},[t._m(6),a("tbody",t._l(t.selectedCoach.account.transactions.slice().reverse(),(function(e){return a("tr",{key:e.id},[a("td",[t._v(" "+t._s(t.print_date(e.date_confirmed))+" ")]),a("td",[t._v(t._s(-1*e.price))]),a("td",[t._v(t._s(e.description))])])})),0)])])])]),a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coach_cards",role:"tabpanel","aria-labelledby":"cards-tab"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mixed_team_select"}},[t._v("Select team:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_team,expression:"selected_team"}],staticClass:"form-control",attrs:{id:"mixed_team"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"All"}},[t._v("All")]),t._l(t.mixed_teams,(function(e){return a("option",{key:e.code,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ("+t._s(e.races.join())+") ")])}))],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",[t._v(" Collection value: "+t._s(t.cardsValue(t.selectedCoach.cards))+" ")])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.show_starter,expression:"show_starter"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sptoggle"},domProps:{checked:Array.isArray(t.show_starter)?t._i(t.show_starter,null)>-1:t.show_starter},on:{change:function(e){var a=t.show_starter,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&(t.show_starter=a.concat([r])):n>-1&&(t.show_starter=a.slice(0,n).concat(a.slice(n+1)))}else t.show_starter=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"sptoggle"}},[t._v("Toggle Starter Pack")])])])]),a("div",{attrs:{id:"accordionCards"}},t._l(t.card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\s/g,"")+"Cards"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapse"+e.replace(/\s/g,""),"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\s/g,"")}},[t._v(" "+t._s(e)+" Cards ")])])]),a("div",{staticClass:"collapse show",attrs:{id:"collapse"+e.replace(/\s/g,""),"aria-labelledby":e.replace(/\s/g,"")+"Cards","data-parent":"#accordionCards"}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped"},[t._m(7,!0),a("tbody",t._l(t.sortedCardsWithQuantity(t.selectedCoach.cards,e),(function(e){return a("tr",{key:e.card.id,class:t.rarityclass(e.card.template.rarity),attrs:{"data-toggle":"popover","data-placement":"top",title:e.card.template.name,"data-html":"true","data-content":t.markdown.makeHtml(e.card.template.description)}},[a("td",[t.is_locked(e.card)&&t.is_loggedcoach(t.selectedCoach.short_name)?a("i",{staticClass:"fas fa-lock"}):t._e()]),a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+e.card.template.rarity+".jpg",alt:e.card.template.rarity,title:e.card.template.rarity,width:"20",height:"25"}})]),a("td",[t._v(t._s(e.card.template.value))]),a("td",[t._v(t._s(e.card.template.name))]),a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(e.card))}})]),a("td",[t._v(t._s(e.card.template.race))]),a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(" "+t._s(e.card.template.subtype)+" ")]),a("td",[t._v(t._s(e.quantity))])])})),0)])])])])})),0)])]),t.is_owner?a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_dusting",role:"tabpanel","aria-labelledby":"dusting-tab"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"row duster_info"},[a("div",{staticClass:"col-9 col-md-6"},[a("h4",[t._v(t._s(t.duster_type))])]),a("div",{staticClass:"col-3 col-md-6 text-right"},[t.is_duster_open()?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.dust_cancel()}}},[t._v("Cancel")]):t._e(),t.is_duster_full()?a("button",{staticClass:"btn btn-info",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.dust_commit()}}},[t._v("Commit")]):t._e()])]),a("div",{attrs:{id:"accordionCardsDusting"}},t._l(t.card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\s/g,"")+"CardsDusting"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapse"+e.replace(/\s/g,"")+"Dusting","aria-expanded":"true","aria-controls":"collapse"+e.replace(/\s/g,"")+"Dusting"}},[t._v(" "+t._s(e)+" Cards ")])])]),a("div",{staticClass:"collapse show",attrs:{id:"collapse"+e.replace(/\s/g,"")+"Dusting","aria-labelledby":e.replace(/\s/g,"")+"CardsDusting","data-parent":"#accordionCardsDusting"}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table table-fixed table-striped"},[t._m(8,!0),a("tbody",t._l(t.sortedCardsWithoutQuantity(t.selectedCoach.cards,e,!1),(function(e){return a("tr",{key:e.id,class:t.rarityclass(e.template.rarity)},[e.is_starter?t._e():[a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+e.template.rarity+".jpg",alt:e.template.rarity,title:e.template.rarity,width:"20",height:"25"}})]),a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(" "+t._s(e.template.value)+" ")]),a("td",{attrs:{title:e.template.description}},[t._v(" "+t._s(e.template.name)+" ")]),a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(e))}})]),a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(" "+t._s(e.template.race)+" ")]),a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(" "+t._s(e.template.subtype)+" ")]),a("td",{staticClass:"text-right"},[t.is_in_duster(e)?a("button",{staticClass:"col-12 btn btn-danger",attrs:{disabled:t.processing,type:"button"},on:{click:function(a){return t.dust_remove(e)}}},[t._v("Remove")]):a("button",{staticClass:"col-12 btn btn-success",attrs:{type:"button",disabled:t.processing},on:{click:function(a){return t.dust_add(e)}}},[t._v("Add")])])]],2)})),0)])])])])})),0)])]):t._e(),a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_achievements",role:"tabpanel","aria-labelledby":"coach-achievements"}},[a("div",{staticClass:"col-auto my-1"},[t._m(9),t._m(10),t._l(t.quest_achievements(t.selectedCoach),(function(e,s){return a("div",{key:"quest"+s,staticClass:"row"},[e.completed?[a("div",{staticClass:"col-9"},[a("div",{staticClass:"progress position-relative mb-2"},[a("div",{staticClass:"progress-bar",class:e.completed?"bg-success":"",style:"width: "+t.progress(e.best/e.target)+"%;",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}}),a("span",{staticClass:"justify-content-center d-flex position-absolute w-100"},[t._v(" "+t._s(e.desc)+" "+t._s(e.best)+" / "+t._s(e.target)+" ")])])]),a("div",{staticClass:"col-3"},[a("button",{staticClass:"col-12 mb-2 ml-2 btn",class:t.achievement_state_class(e),attrs:{type:"button",disabled:!t.achievement_ready(e)}},[t._v(" "+t._s(e.award_text)),e.completed?a("span",[t._v(" ✓")]):t._e()])])]:t._e()],2)})),t._m(11),t._l(t.conclave_achievements(t.selectedCoach),(function(e,s){return a("div",{key:"conclave"+s,staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"progress position-relative mb-2"},[a("div",{staticClass:"progress-bar",class:e.completed?"bg-success":"",style:"width: "+t.progress(e.best/e.target)+"%;",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}}),a("span",{staticClass:"justify-content-center d-flex position-absolute w-100"},[t._v(" "+t._s(e.desc)+" "+t._s(e.best)+" / "+t._s(e.target)+" ")])])]),a("div",{staticClass:"col-3"},[a("button",{staticClass:"col-12 mb-2 ml-2 btn",class:t.achievement_state_class(e),attrs:{type:"button",disabled:!t.achievement_ready(e)}},[t._v(" "+t._s(e.award_text)),e.completed?a("span",[t._v(" ✓")]):t._e()])])])})),t._m(12),t._l(t.match_achievements(t.selectedCoach),(function(e,s){return a("div",{key:"match_ach"+s,staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"progress position-relative mb-2"},[a("div",{staticClass:"progress-bar",class:e.completed?"bg-success":"",style:"width: "+t.progress(e.best/e.target)+"%;",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}}),a("span",{staticClass:"justify-content-center d-flex position-absolute w-100"},[t._v(" "+t._s(e.desc)+" "+t._s(e.best)+" / "+t._s(e.target)+" ")])])]),a("div",{staticClass:"col-3"},[a("button",{staticClass:"col-12 mb-2 ml-2 btn",class:t.achievement_state_class(e),attrs:{type:"button",disabled:!t.achievement_ready(e)}},[t._v(" "+t._s(e.award_text)),e.completed?a("span",[t._v(" ✓")]):t._e()])])])})),t._m(13),t._l(t.team_achievements(t.selectedCoach),(function(e,s){return a("div",{key:s,staticClass:"row"},[a("h6",{staticClass:"col-12"},[t._v(t._s(e.team_name))]),t._l(["played","touchdowns","casualties","kills","passes","wins"],(function(s){return[t._l([1,2,3],(function(i){return[a("div",{key:"progress"+s+i,staticClass:"col-9"},[a("div",{staticClass:"progress position-relative mb-2"},[a("div",{staticClass:"progress-bar",class:e.achievements[s][i].completed?"bg-success":"",style:"width: "+t.progress(e.achievements[s][i].best/e.achievements[s][i].target)+"%;",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}}),a("span",{staticClass:"justify-content-center d-flex position-absolute w-100"},[t._v(" "+t._s(e.achievements[s][i].desc)+" "+t._s(e.achievements[s][i].best)+" / "+t._s(e.achievements[s][i].target)+" ")])])]),a("div",{key:"button"+s+i,staticClass:"col-3"},[a("button",{staticClass:"col-12 mb-2 ml-2 btn",class:t.achievement_state_class(e.achievements[s][i]),attrs:{type:"button",disabled:!t.achievement_ready(e.achievements[s][i])}},[t._v(" "+t._s(e.achievements[s][i].award_text)+" "),e.achievements[s][i].completed?a("span",[t._v(" ✓")]):t._e()])])]}))]}))],2)}))],2)]),a("div",{staticClass:"tab-pane fade",attrs:{id:"coach_stats",role:"tabpanel","aria-labelledby":"coach-stats"}},[a("div",{staticClass:"col-auto my-1"},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"coachStatsDisplay",role:"tabpanel","aria-labelledby":"coachStats"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"coachStatsTab",role:"tablist"}},[t._m(14),t._l(t.team_stats(t.selectedCoach),(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab"+s,"data-toggle":"tab",href:"#stats_"+s,role:"tab","aria-controls":"stats_team"}},[t._v(t._s(e.team_name))])])}))],2),a("div",{staticClass:"tab-content",attrs:{id:"coachStatsTabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"stats_summary",role:"tabpanel","aria-labelledby":"stats-summary-tab"}},[a("div",{staticClass:"row mt-2"},[t._m(15),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"wins")))])])]),t._m(16),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"draws")))])])]),t._m(17),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"losses")))])])]),t._m(18),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"matches")))])])]),t._m(19),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"points")))])])]),t._m(20),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"points")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])]),t._m(21),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedtackles")))])])]),t._m(22),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedinjuries")))])])]),t._m(23),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedko")))])])]),t._m(24),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedcasualties")))])])]),t._m(25),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflicteddead")))])])]),t._m(26),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"inflictedtackles")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])]),t._m(27),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedtouchdowns")))])])]),t._m(28),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedpasses")))])])]),t._m(29),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedmeterspassing")))])])]),t._m(30),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedmetersrunning")))])])]),t._m(31),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getStat(t.selectedCoach,"inflictedinterceptions")))])])]),t._m(32),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getStat(t.selectedCoach,"inflictedtouchdowns")/t.getStat(t.selectedCoach,"matches")).toFixed(2))+" ")])])])])]),t._l(t.team_stats(t.selectedCoach),(function(e,s){return a("div",{key:s,staticClass:"tab-pane fade",attrs:{id:"stats_"+s,role:"tabpanel","aria-labelledby":"stats-team-tab"}},[a("div",{staticClass:"row mt-2"},[t._m(33,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"wins")))])])]),t._m(34,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"draws")))])])]),t._m(35,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"losses")))])])]),t._m(36,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"matches")))])])]),t._m(37,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"points")))])])]),t._m(38,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"points")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])]),t._m(39,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedtackles")))])])]),t._m(40,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedinjuries")))])])]),t._m(41,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedko")))])])]),t._m(42,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedcasualties")))])])]),t._m(43,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflicteddead")))])])]),t._m(44,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"inflictedtackles")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])]),t._m(45,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedtouchdowns")))])])]),t._m(46,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedpasses")))])])]),t._m(47,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedmeterspassing")))])])]),t._m(48,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedmetersrunning")))])])]),t._m(49,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.getTeamStat(e,"inflictedinterceptions")))])])]),t._m(50,!0),a("div",{staticClass:"col-1"},[a("h5",[a("small",{staticClass:"text-muted"},[t._v(" "+t._s((t.getTeamStat(e,"inflictedtouchdowns")/t.getTeamStat(e,"matches")).toFixed(2))+" ")])])])])])}))],2)])])])])])])])]):t._e(),"Tournaments"==t.menu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"tab-content",attrs:{id:"accordionTournaments"}},[a("div",{staticClass:"row col-lg-9"},[a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_region,expression:"selected_t_region"}],staticClass:"form-control",attrs:{id:"tournament_region"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_region=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Region:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"all"}},[t._v("Cross-region")]),a("option",{attrs:{value:"bigo"}},[t._v("Big O")]),a("option",{attrs:{value:"gman"}},[t._v("GMAN")]),a("option",{attrs:{value:"rel"}},[t._v("REL")])])]),a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_state,expression:"selected_t_state"}],staticClass:"form-control",attrs:{id:"tournament_state"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_state=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Occupation:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"free"}},[t._v("Free")]),a("option",{attrs:{value:"full"}},[t._v("Full")]),a("option",{attrs:{value:"entered"}},[t._v("Entered")]),a("option",{attrs:{value:"admined_by_me"}},[t._v("Admined by me")])])]),a("div",{staticClass:"form-group col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_t_mode,expression:"selected_t_mode"}],staticClass:"form-control",attrs:{id:"tournament_duration"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_t_mode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Mode:")]),a("option",{attrs:{value:""}},[t._v("Reset")]),a("option",{attrs:{value:"regular"}},[t._v("Regular")]),a("option",{attrs:{value:"fasttrack"}},[t._v("Fast Track")]),a("option",{attrs:{value:"bootcamp"}},[t._v("Boot Camp")])])])]),t._l(t.filteredTournaments,(function(e){return a("tournament",{key:e.tournament_id,staticClass:"show col-lg-9",attrs:{id:"tourn"+e.tournament_id,role:"tabpanel","aria-labelledby":"tournament",tournament:e,coaches:t.coaches,"data-parent":"#accordionTournaments",user:t.user}})}))],2)])]):t._e(),"Leaderboard"==t.menu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Collectors ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(51),a("tbody",[t._l(t.collectors_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.id,class:t.leaderboard_class(e.short_name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.short_name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.collection_value))])])})),void 0!=t.leaderboard_coach&&t.collectors_sorted.indexOf(t.leaderboard_coach)>9?a("tr",{class:t.leaderboard_class(t.leaderboard_coach.short_name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.collectors_sorted.indexOf(t.leaderboard_coach)+1)+".")]),a("td",[t._v(t._s(t.leaderboard_coach.short_name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.leaderboard_coach.collection_value))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Earners ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(52),a("tbody",[t._l(t.earners_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.id,class:t.leaderboard_class(e.short_name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.short_name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.earned))])])})),void 0!=t.leaderboard_coach&&t.earners_sorted.indexOf(t.leaderboard_coach)>9?a("tr",{class:t.leaderboard_class(t.leaderboard_coach.short_name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.earners_sorted.indexOf(t.leaderboard_coach)+1)+".")]),a("td",[t._v(t._s(t.leaderboard_coach.short_name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.leaderboard_coach.earned))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Grinders ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(53),a("tbody",[t._l(t.grinders_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.matches))])])})),void 0!=t.stats_coach&&t.grinders_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.grinders_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.matches))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Points ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(54),a("tbody",[t._l(t.points_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.points))])])})),void 0!=t.stats_coach&&t.points_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.points_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.points))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Points Per Game (min. 6 games) ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(55),a("tbody",[t._l(t.ppg_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.per_game(e.points,e.matches).toFixed(2)))])])})),void 0!=t.stats_coach&&t.ppg_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.ppg_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.per_game(t.stats_coach.points,t.stats_coach.matches).toFixed(2))+" ")])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Scorers ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(56),a("tbody",[t._l(t.scorers_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.inflictedtouchdowns))])])})),void 0!=t.stats_coach&&t.scorers_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.scorers_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.inflictedtouchdowns))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Touchdowns Per Game (min. 6 games) ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(57),a("tbody",[t._l(t.tpg_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.per_game(e.inflictedtouchdowns,e.matches).toFixed(2))+" ")])])})),void 0!=t.stats_coach&&t.tpg_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.tpg_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.per_game(t.stats_coach.inflictedtouchdowns,t.stats_coach.matches).toFixed(2))+" ")])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Bashers ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(58),a("tbody",[t._l(t.bashers_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.inflictedcasualties))])])})),void 0!=t.stats_coach&&t.bashers_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.bashers_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.inflictedcasualties))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v("TOP 10 Casualties Per Game (min. 6 games)")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(59),a("tbody",[t._l(t.cpg_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.per_game(e.inflictedcasualties,e.matches).toFixed(2))+" ")])])})),void 0!=t.stats_coach&&t.cpg_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.cpg_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.per_game(t.stats_coach.inflictedcasualties,t.stats_coach.matches).toFixed(2))+" ")])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Hitmen ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(60),a("tbody",[t._l(t.hitmen_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.inflicteddead))])])})),void 0!=t.stats_coach&&t.hitmen_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.hitmen_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.inflicteddead))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Passers ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(61),a("tbody",[t._l(t.passers_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.inflictedpasses))])])})),void 0!=t.stats_coach&&t.passers_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.passers_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.inflictedpasses))])]):t._e()],2)])]),a("div",{staticClass:"col-12 col-md-6 col-lg-4 table-responsive"},[a("h4",[t._v(" TOP 10 Surfers ")]),a("table",{staticClass:"table table-hover",attrs:{id:"leaderboard"}},[t._m(62),a("tbody",[t._l(t.surfers_sorted.slice(0,10),(function(e,s){return a("tr",{key:e.name,class:t.leaderboard_class(e.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1)+".")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.inflictedpushouts))])])})),void 0!=t.stats_coach&&t.surfers_sorted.indexOf(t.stats_coach)>9?a("tr",{class:t.leaderboard_class(t.stats_coach.name)},[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.surfers_sorted.indexOf(t.stats_coach)+1)+".")]),a("td",[t._v(t._s(t.stats_coach.name))]),a("td",{staticClass:"text-right"},[t._v(t._s(t.stats_coach.inflictedpushouts))])]):t._e()],2)])])]):t._e(),a("signup-modal",{ref:"signupModal",attrs:{user:t.user}})],1)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://bit.ly/2P9Y07F"}},[t._v("Rules")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{target:"_blank",title:"Only to get us wasted, not for buying packs!!!",href:"https://www.paypal.me/rebblimperium"}},[a("div",{staticClass:"d-inline-block"},[t._v("🍻 Beer Fund")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab","data-toggle":"tab",href:"#coach_stats",role:"tab","aria-controls":"coach_stats","aria-selected":"false"}},[t._v("Stats")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"stats-tab","data-toggle":"tab",href:"#coach_achievements",role:"tab","aria-controls":"coach_achievements","aria-selected":"false"}},[t._v("Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3 text-right"},[a("h5",{staticClass:"coach_info"},[t._v("BB2 Name:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"th-lg"},[t._v("Date")]),a("th",{staticClass:"th-lg"},[t._v("Bank Change")]),a("th",{staticClass:"th-lg"},[t._v("Description")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[a("i",{staticClass:"fas fa-lock",attrs:{title:"Locked in another tournament"}})]),a("th",[t._v("Rarity")]),a("th",[t._v("Value")]),a("th",[t._v("Name")]),a("th",[t._v("Skills")]),a("th",[t._v("Race")]),a("th",{staticClass:"d-none d-sm-table-cell"},[t._v(" Subtype ")]),a("th",{staticClass:"d-none d-sm-table-cell"},[t._v(" Quantity ")]),a("th",{staticClass:"d-xs-table-cell d-sm-none"},[t._v(" Q ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Rarity")]),a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Value")]),a("th",[t._v("Name")]),a("th",[t._v("Skills")]),a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Race")]),a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Subtype")]),a("th",{staticStyle:{width:"15%"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h4",{staticClass:"col-12"},[t._v("Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Hidden Quests")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Conclave Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Match Achievements (Any Team)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12"},[t._v("Mixed Team Achievements")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"stats-tab","data-toggle":"tab",href:"#stats_summary",role:"tab","aria-controls":"stats_summary"}},[t._v("Summary")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Wins:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Draws:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Losses:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Matches:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Points:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Points Per Game"}},[t._v("PPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Blocks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Armor Breaks"}},[t._v("ABs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("KOs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Casualties"}},[t._v("Cas:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Kills:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Blocks Per Game"}},[t._v("BPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("TDs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passes:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passed [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Ran [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Interceptions"}},[t._v("Int:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Touchdowns Per Game"}},[t._v("TDPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Wins:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Draws:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Losses:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Matches:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Points:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Points Per Game"}},[t._v("PPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Blocks:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Armor Breaks"}},[t._v("ABs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("KOs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Casualties"}},[t._v("Cas:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Kills:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Blocks Per Game"}},[t._v("BPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("TDs:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passes:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Passed [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",[t._v("Ran [m]:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Interceptions"}},[t._v("Int:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("h5",{attrs:{title:"Touchdowns Per Game"}},[t._v("TDPG:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Value")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Coins")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Matches")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Points")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("PPG")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Touchdowns")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("TDPG")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Casualties")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("CPG")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Kills")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Passes")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("Surfs")])])])}],m=(a("c740"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tournament"},[a("div",{staticClass:"card-header",attrs:{id:"tournament"+t.tournament.tournament_id}},[a("h5",{staticClass:"mb-0"},[a("div",{staticClass:"row"},[a("button",{staticClass:"col-md-9 btn btn-link btn-block",attrs:{"data-toggle":"collapse","data-target":"#collapseTournament"+t.tournament.tournament_id,"aria-expanded":"true","aria-controls":"collapseTournament"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-md-5 text-left"},[t._v(t._s(t.tournament.tournament_id)+". "+t._s(t.tournament.name))]),a("div",{staticClass:"col-6 col-md-2 text-left"},[t._v(t._s(t.tournament.status)+" "+t._s(t.show_date))]),a("div",{staticClass:"col-6 col-md-2 text-left"},[t._v(" Signups: "+t._s(t.signed.length)+"/"+t._s(t.tournament.coach_limit))]),a("div",{staticClass:"col-6 col-md-3 text-left"},[t._v("Channel: "+t._s(t.tournament.discord_channel)),a("br"),t._v("Phase: "+t._s(t.phase.desc))])])]),a("div",{staticClass:"col-md-3 text-right"},[t.is_user_signed&&!t.is_running?[a("confirmation-button",{staticClass:"col-12 m-1",attrs:{messages:["Resign","Are you sure?","Ok"]},on:{"confirmation-success":function(e){return t.resign()}}},[t._v("Resign")])]:t._e(),t.is_user_signed||t.is_full||t.is_running?t._e():a("button",{staticClass:"col-12 m-1 btn btn-success",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.sign()}}},[t._v("Sign")]),t.is_user_signed?a("button",{staticClass:"btn col-12 m-1 btn-primary",attrs:{type:"button"},on:{click:function(e){return t.showDeck(t.user.coach)}}},[t._v("My Deck")]):t._e(),t.is_user_signed||!t.is_full||t.is_running?t._e():a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:"",type:"button"}},[t._v("Full")]),!t.is_user_signed&&t.is_running?a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:"",type:"button"}},[t._v("In Progress")]):t._e()],2)])])]),a("div",{staticClass:"collapse",attrs:{id:"collapseTournament"+t.tournament.tournament_id,"aria-labelledby":"Tournaments"+t.tournament.tournament_id,"data-parent":t.getProperty("data-parent")}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Signup By:")]),t._v(": "+t._s(t.tournament.signup_close_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Start")]),t._v(": "+t._s(t.tournament.expected_start_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("End")]),t._v(": "+t._s(t.tournament.expected_end_date))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Deadline")]),t._v(": "+t._s(t.tournament.deadline_date))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Region")]),t._v(": "+t._s(t.tournament.region))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Type")]),t._v(": "+t._s(t.tournament.type))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Mode")]),t._v(": "+t._s(t.tournament.mode))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Deck Limits")]),t._v(": "),a("span",{attrs:{title:"Card Limit"}},[t._v(t._s(t.tournament.deck_limit))]),t._v(" / "),a("span",{attrs:{title:"Value Limit"}},[t._v(t._s(t.tournament.deck_value_limit))])])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Admin")]),t._v(": "+t._s(t.tournament.admin))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Fee")]),t._v(": "+t._s(t.tournament.fee))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Signups")]),t._v(": "+t._s(t.signed.length)+"/"+t._s(t.tournament.coach_limit))]),a("div",{staticClass:"col-sm-3"},[a("b",[t._v("Reserves")]),t._v(": "+t._s(t.reserved.length)+"/"+t._s(t.tournament.reserve_limit))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-6"},[a("b",[t._v("Discord Channel")]),t._v(": #"+t._s(t.tournament.discord_channel))]),t._m(0),t.is_tournament_admin?a("div",{staticClass:"col-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected.phase,expression:"selected.phase"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selected,"phase",e.target.multiple?a:a[0])},function(e){return t.set_phase()}]}},t._l(t.phases,(function(e){return a("option",{key:e.name,domProps:{value:e.name}},[t._v(t._s(e.desc))])})),0)]):a("div",{staticClass:"col-3"},[t._v(t._s(t.phase.desc))])]),t.is_webadmin||t.is_running?a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Signed")]),t._v(": "),t._l(t.signed_coaches,(function(e){return a("span",{key:e.id},[t._v(t._s(e.short_name)+" ("),a("a",{attrs:{href:"#"},on:{click:function(a){return t.showDeck(e)}}},[t._v("Deck")]),t._v(") ")])}))],2)]):t._e(),t.is_webadmin||t.is_running?a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Reserves")]),t._v(": "),t._l(t.reserved_coaches,(function(e){return a("span",{key:e.id},[t._v(t._s(e.short_name)+" ("),a("a",{attrs:{href:"#"},on:{click:function(a){return t.showDeck(e)}}},[t._v("Deck")]),t._v(") ")])}))],2)]):t._e(),t._m(1),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.prizes))])]),t._m(2),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.special_rules))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Sponsor")]),t._v(": "+t._s(t.tournament.sponsor))])]),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.sponsor_description))])]),t._m(3),a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[t._v(t._s(t.tournament.unique_prize))])]),t.is_webadmin?a("div",{staticClass:"row tournament_info_line"},[t._m(4)]):t._e(),t.is_webadmin?a("div",{staticClass:"row tournament_webadmin tournament_info_line"},[a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"col-12 m-1 btn btn-info",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.update()}}},[t._v("Update")])]),a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"col-12 m-1 btn btn-primary",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.start()}}},[t._v("Start")])]),a("div",{staticClass:"col-sm-4"},[t.prize_menu?a("button",{staticClass:"col-12 m-1 btn btn-danger",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.award_and_stop()}}},[t._v("Award & Stop")]):a("button",{staticClass:"col-12 m-1 btn btn-success",attrs:{disabled:t.processing,type:"button"},on:{click:function(e){return t.setprizes()}}},[t._v("Set Prizes")])])]):t._e(),t.is_webadmin&&t.prize_menu?a("div",{staticClass:"row"},[a("h5",{staticClass:"col-12 col-sm-4 col-md-8 p-2"},[t._v("Prizes:")]),a("div",{staticClass:"col-6 col-sm-4 col-md-2 text-right"},[a("button",{staticClass:"col-12 m-1 btn btn-sm btn-warning",on:{click:function(e){return t.reset_prizes()}}},[t._v("reset")])]),a("div",{staticClass:"col-6 col-sm-4 col-md-2 text-right"},[a("button",{staticClass:"col-12 m-1 btn btn-sm btn-success",on:{click:function(e){return t.add_prize()}}},[t._v("add")])]),t._l(t.prizes,(function(e,s){return[a("div",{key:"prize_coach"+s,staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.coach,expression:"prize.coach"}],staticClass:"form-control",class:{"is-invalid":""==e.coach},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"coach",a.target.multiple?s:s[0])}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Coach:")]),t._l(t.signed_coaches,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.short_name))])}))],2)])]),a("div",{key:"prize_amount"+s,staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"prize.amount"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cash"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})])]),a("div",{key:"prize_reason"+s,staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"prize.reason"}],staticClass:"form-control",class:{"is-invalid":""==e.reason},attrs:{type:"text",placeholder:"Reason"},domProps:{value:e.reason},on:{input:function(a){a.target.composing||t.$set(e,"reason",a.target.value)}}})])]),a("div",{key:"prize_button"+s,staticClass:"col-md-2 text-right"},[a("button",{staticClass:"btn m-1 btn-sm btn-danger",on:{click:function(e){return t.remove_prize(s)}}},[t._v("remove")])])]}))],2):t._e()])]),t.show_deck?a("deck",{attrs:{coach:t.selected.coach,tournament:t.tournament,deck_id:t.selected.deck_id,is_owner:t.is_owner(t.selected.coach)}}):t._e()],1)}),v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-3"},[a("b",[t._v("Deck Phase:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Prizes")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Special Rules")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row tournament_info_line"},[a("div",{staticClass:"col-12"},[a("b",[t._v("Unique Prize")]),t._v(":")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("b",[t._v("Management:")])])}],p=(a("a434"),a("498a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade deck",attrs:{id:"deck"+t.id,tabindex:"-1",role:"dialog","aria-labelledby":"deck","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header deck_header"},[a("h5",{staticClass:"modal-title"},[t._v("Deck for "+t._s(t.coach.short_name)+" in "+t._s(t.tournament.name)+" - Phase: "+t._s(t.phases[t.tournament.phase])+" "),t.doneable_phase?[t.deck.phase_done?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[t._v("Done")]):t._e(),!t.deck.phase_done&&t.is_owner?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.phaseDone()}}},[t._v("Done")]):t._e(),!t.is_owner||t.deck.commited||t.locked?t._e():a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.reset()}}},[t._v("Reset")]),t.deck.commited&&!t.locked?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[t._v("Committed")]):t._e(),t.locked?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[t._v("Locked")]):t._e(),t.started?t._e():a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[t._v("Not Started")])]:t._e()],2),t.is_owner&&!t.deck.commited&&!t.locked&&t.started?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.processing},on:{click:function(e){return t.commit()}}},[t._v("Commit")]):t._e(),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h6",{staticClass:"d-inline-block"},[t._v("Team:")]),t.deck.team_name?a("button",{staticClass:"mb-2 ml-3 btn btn-sm btn-info",on:{click:function(e){return t.getTeam(t.deck.team_name)}}},[t._v("Load Team")]):t._e()]),a("div",{staticClass:"form-group col-lg-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_team,expression:"selected_team"}],staticClass:"form-control",attrs:{disabled:t.deck_player_size>0||!t.is_owner||t.locked},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_team=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"All"}},[t._v("Select team")]),t._l(t.mixed_teams,(function(e){return a("option",{key:e.code,domProps:{value:e.name}},[t._v(t._s(e.name)+" ("+t._s(e.races.join())+")")])}))],2)]),a("div",{staticClass:"form-group col-lg-6"},[a("input",{staticClass:"form-control",attrs:{type:"text",disabled:!t.is_owner||t.locked,placeholder:"Team Name (max 25 characters)",maxlength:"25"},domProps:{value:t.deck.team_name},on:{input:function(e){return t.debounceUpdateName(e.target.value)}}})])]),a("div",{staticClass:"row"},[t.extra_allowed&&"coach"in t.team?a("div",{staticClass:"col-12 mb-3 mt-3",attrs:{id:"teamInfoAccordion"+t.id}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"teamInfo"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseTeamInfo"+t.id,"aria-expanded":"true","aria-controls":"collapseTeamInfo"}},[t._v(" BB2 Team Details ")])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapseTeamInfo"+t.id,"aria-labelledby":"teamInfo'","data-parent":"#teamInfoAccordion"+t.id}},[a("div",{staticClass:"card-body table-responsive"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Team:")]),t._v(" "+t._s(t.team.team.name))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Race:")]),t._v(" "+t._s(t.race(t.team.team.idraces)))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Coach:")]),t._v(" "+t._s(t.team.coach.name))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("TV:")]),t._v(" "+t._s(t.team.team.value))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Apothecary:")]),t._v(" "+t._s(t.team.team.apothecary?"Yes":"No")+" "),t.team_check.apothecary.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.apothecary.msg}},[t._v("✗")])]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Rerolls:")]),t._v(" "+t._s(t.team.team.rerolls)+" "),t.team_check.rerolls.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.rerolls.msg}},[t._v("✗")])]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Assistant Coaches:")]),t._v(" "+t._s(t.team.team.assistantcoaches))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Cheerleaders:")]),t._v(" "+t._s(t.team.team.cheerleaders))]),a("div",{staticClass:"col-sm-4"},[a("b",[t._v("Stadium Enhancement:")]),t._v(" "+t._s(t.stadium_enhacement(t.team.team)))])]),a("h6",{staticClass:"mt-2"},[t._v("Roster size: "),t.team_check.roster.value?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check",attrs:{title:t.team_check.roster.msg}},[t._v("✗")])]),a("div",{staticClass:"row"},[a("table",{staticClass:"table  table-striped table-hover"},[t._m(1),a("tbody",t._l(t.sorted_roster,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.number))]),a("td",[t._v(t._s(e.level))]),a("td",[t._v(t._s(e.xp))]),a("td",[t._v(t._s(e.value))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t.positional_from_api(e.type)))]),a("td",[a("span",{domProps:{innerHTML:t._s(e.skills.map((function(e){return t.imgs_for_skill(e)})).join(""))}})]),a("td",[a("span",{domProps:{innerHTML:t._s(e.casualties_state.map((function(e){return t.imgs_for_skill(e)})).join(""))}})]),a("td",[t.valid(e)?a("span",{staticClass:"deck_valid_check"},[t._v("✓")]):a("span",{staticClass:"deck_invalid_check"},[t._v("✗")])])])})),0)])])])])])]):t._e()]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12"},[a("h6",[t._v("Sponsor: "+t._s(t.tournament.sponsor))])]),a("div",{staticClass:"col-12"},[t._v(" "+t._s(t.tournament.special_rules)+" ")])]),a("div",{staticClass:"row mb-3"},[t._m(2),a("div",{staticClass:"col-12"},[a("textarea",{staticClass:"form-control",attrs:{disabled:!t.is_owner||t.locked,rows:"3"},domProps:{value:t.deck.comment},on:{input:function(e){return t.debounceUpdateComment(e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-3 mt-3",attrs:{id:"extraCardsAccordion"+t.id}},[t.extra_allowed&&t.is_owner?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"extraCards"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseExtraCards"+t.id,"aria-expanded":"true","aria-controls":"collapseExtraCards"}},[a("span",{attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Use this to add extra cards to the collection for this tournament only"}},[t._v("Sponsor & Extra Cards")])])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapseExtraCards"+t.id,"aria-labelledby":"extraCards'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.extra_card,expression:"extra_card"}],staticClass:"d-inline  form-control",attrs:{type:"text",disabled:!t.is_owner||t.locked,placeholder:t.extra_card_placeholder},domProps:{value:t.extra_card},on:{input:function(e){e.target.composing||(t.extra_card=e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn-sm btn btn-success btn-block mb-1",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(e){return t.addExtraCard(t.extra_card)}}},[t._v("Add")])]),t._l(t.deck.unused_extra_cards,(function(e){return[a("div",{key:"name"+e.template.name,staticClass:"col-md-6 pt-1 pl-4"},[a("h6",{staticClass:"extra_card"},[t._v(t._s(e.template.name))])]),a("div",{key:"clone"+e.template.name,staticClass:"col-md-3"},[a("button",{staticClass:"btn-sm mb-1 btn btn-success btn-block",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(a){return t.cloneExtraCard(e)}}},[t._v("Clone")])]),a("div",{key:"remove"+e.template.name,staticClass:"col-md-3"},[a("button",{staticClass:"btn-sm mb-1 btn btn-danger btn-block",attrs:{type:"button",disabled:t.processing||!t.is_owner||t.locked},on:{click:function(a){return t.removeExtraCard(e)}}},[t._v("Remove")])])]}))],2)])])]):t._e(),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"log"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapselog"+t.id,"aria-expanded":"true","aria-controls":"collapselog"}},[t._v(" Deck Log ")])])]),a("div",{staticClass:"collapse hide",attrs:{id:"collapselog"+t.id,"aria-labelledby":"log'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[t._l(t.deck.log.split(/\\r?\\n/).reverse().slice(1),(function(e,s){return[t._v(" "+t._s(e)+" "),a("br",{key:s})]}))],2)])])]),t.has_deck_upgrade?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"deck_upgrade"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapsedeckupgrade"+t.id,"aria-expanded":"true","aria-controls":"collapsedeckupgrade"}},[t._v(" Deck Upgrade ")])])]),t.has_deck_upgrade?a("div",{staticClass:"collapse show",attrs:{id:"collapsedeckupgrade"+t.id,"aria-labelledby":"log'","data-parent":"#extraCardsAccordion"+t.id}},[a("div",{staticClass:"card-body deck_upgrade"},t._l(t.deck_upgrades,(function(e){return a("div",{key:e.template.name,staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("b",[t._v(t._s(e.template.name)+":")])]),a("div",{staticClass:"col-md-9"},[a("span",{domProps:{innerHTML:t._s(t.markdown.makeHtml(e.template.description))}})])])})),0)]):t._e()]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row mt-1 deck_header"},[t._m(3),a("div",{staticClass:"col-6"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.show_starter,expression:"show_starter"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"sptoggle"+t.id},domProps:{checked:Array.isArray(t.show_starter)?t._i(t.show_starter,null)>-1:t.show_starter},on:{change:function(e){var a=t.show_starter,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&(t.show_starter=a.concat([r])):n>-1&&(t.show_starter=a.slice(0,n).concat(a.slice(n+1)))}else t.show_starter=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"sptoggle"+t.id}},[t._v("Toggle Starter Pack")])])])]),a("div",{attrs:{id:"accordionCardsCollection"+t.id}},t._l(t.deck_card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\\s/g,"")+"CardsCollection"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseCollection"+e.replace(/\\s/g,"")+t.id,"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\\s/g,"")}},[t._v(" "+t._s(e)+" Cards ")])])]),a("div",{staticClass:"deck_ctype collapse show",attrs:{id:"collapseCollection"+e.replace(/\\s/g,"")+t.id,"aria-labelledby":e.replace(/\\s/g,"")+"Cards","data-parent":"#accordionCardsCollection"+t.id}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Rarity")]),a("th",{staticClass:"d-xl-none"},[t._v("R")]),a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Value")]),a("th",{staticClass:"d-xl-none"},[t._v("V")]),a("th",[t._v("Name")]),"Training"==e||"Special Play"==e?a("th",[t._v("Skills")]):t._e(),"Player"==e?a("th",[t._v("Race")]):t._e(),"Player"==e||"Training"==e?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Subtype")]):t._e()])]),a("tbody",[t._l(t.sortedCardsWithoutQuantity(t.collection_cards,e),(function(s){return[t.isInDeck(s)?t._e():a("tr",{key:s.id,class:[t.rarityclass(s.template.rarity),t.extra_type(s.deck_type)],on:{click:function(e){return t.addToDeck(s)}}},[a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+s.template.rarity+".jpg",alt:s.template.rarity,title:s.template.rarity,width:"20",height:"25"}})]),a("td",[t._v(t._s(s.template.value))]),a("td",{attrs:{title:s.template.description}},[t._v(t._s(s.template.name))]),"Training"==e||"Special Play"==e?a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}})]):t._e(),"Player"==e?a("td",[t._v(t._s(s.template.race))]):t._e(),"Player"==e||"Training"==e?a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(t._s(s.template.subtype))]):t._e()])]}))],2)])])])])})),0)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row mt-1 deck_header"},[a("div",{staticClass:"col-3"},[a("h6",[t._v("Deck "+t._s(t.deck_size)+"/"+t._s(t.tournament.deck_limit))])]),a("div",{staticClass:"col-3 text-center"},[a("h6",[t._v("Value: "+t._s(t.deck_value)+"/"+t._s(t.tournament.deck_value_limit))])]),a("div",{staticClass:"col-3 text-center"},[a("h6",[t._v("Doubles: "+t._s(t.deck_doubles_count))])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"custom-control custom-checkbox mr-sm-2 text-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rarity_order,expression:"rarity_order"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"raritytoggle"+t.id},domProps:{checked:Array.isArray(t.rarity_order)?t._i(t.rarity_order,null)>-1:t.rarity_order},on:{change:function(e){var a=t.rarity_order,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&(t.rarity_order=a.concat([r])):n>-1&&(t.rarity_order=a.slice(0,n).concat(a.slice(n+1)))}else t.rarity_order=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"raritytoggle"+t.id}},[t._v("Rarity order")])])])]),a("div",{attrs:{id:"accordionCardsDeck"+t.id}},t._l(t.deck_card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\\s/g,"")+"CardsDeck"+t.id}},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseDeck"+e.replace(/\\s/g,"")+t.id,"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\\s/g,"")}},[t._v(" "+t._s(e)+" Cards ("+t._s(t.deck_size_for(e))+") ")])])]),a("div",{staticClass:"deck_ctype collapse show",attrs:{id:"collapseDeck"+e.replace(/\\s/g,"")+t.id,"aria-labelledby":e.replace(/\\s/g,"")+"Cards","data-parent":"#accordionCardsDeck"+t.id}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Rarity")]),a("th",{staticClass:"d-xl-none"},[t._v("R")]),a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Value")]),a("th",{staticClass:"d-xl-none"},[t._v("V")]),a("th",[t._v("Name")]),"Training"==e||"Special Play"==e?a("th",[t._v("Skills")]):t._e(),"Player"==e?a("th",[t._v("Race")]):t._e(),"Player"==e||"Training"==e?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Subtype")]):t._e()])]),a("tbody",[t._l(t.sortedCardsWithoutQuantity(t.deck_cards,e,!1),(function(s){return[a("tr",{key:s.id,class:[t.rarityclass(s.template.rarity),t.extra_type(s.deck_type)],on:{click:function(e){return t.removeFromDeck(s)}}},[a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+s.template.rarity+".jpg",alt:s.template.rarity,title:s.template.rarity,width:"20",height:"25"}})]),a("td",[t._v(t._s(s.template.value))]),a("td",{attrs:{title:s.template.description}},[t._v(t._s(s.template.name)),t.is_guarded(s)?a("span",{attrs:{title:"No Special Play effects possible"}},[t._v("💪")]):t._e()]),"Training"==e||"Special Play"==e?a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}})]):t._e(),"Player"==e?a("td",[t._v(t._s(s.template.race))]):t._e(),"Player"==e||"Training"==e?a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(t._s(s.template.subtype))]):t._e()]),t._l(t.number_of_assignments(s),(function(i){return a("tr",{key:i,class:[t.rarityclass(s.template.rarity)]},[a("th",{attrs:{colspan:"1"}},[t._v("Assigned to:")]),a("td",{attrs:{colspan:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:s.assigned_to_array[t.deck.id][i-1],expression:"card.assigned_to_array[deck.id][idx-1]"}],staticClass:"form-control",attrs:{disabled:!t.is_owner||t.locked},on:{click:function(t){t.stopPropagation()},change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(s.assigned_to_array[t.deck.id],i-1,e.target.multiple?a:a[0])},function(e){return t.assignCard(s)}]}},"Training"==e?[a("option",{attrs:{default:""},domProps:{value:null}},[t._v("Select Player")]),t._l(t.sortedCards(t.assignable_deck_player_cards),(function(e,s){return a("option",{key:s,domProps:{value:t.card_id_or_uuid(e)}},[t._v(t._s(s+1)+". "+t._s(e.template.name))])}))]:[a("option",{attrs:{default:""},domProps:{value:null}},[t._v("Select Player")]),t._l(t.sortedCards(t.deck_player_cards),(function(e,s){return a("option",{key:s,domProps:{value:t.card_id_or_uuid(e)}},[t._v(t._s(s+1)+". "+t._s(e.template.name))])}))],2)]),a("td",{staticClass:"d-none d-sm-table-cell"})])})),"Player"==e?a("tr",{key:"player"+s.id,class:[t.rarityclass(s.template.rarity)]},[a("th",{attrs:{colspan:"1"}},[t._v("Skills:")]),a("td",{attrs:{colspan:"2"}},[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}}),a("span",{domProps:{innerHTML:t._s(t.deck_skills_for(s))}})]),a("td",[t.injuryPickerOpened(s)?a("img",{staticClass:"skill_icon skill_single",attrs:{src:"https://cdn2.rebbl.net/images/skills/SmashedHand.png",title:"Add Injury"},on:{click:function(e){return t.openInjuryPicker(s)}}}):a("injury-picker",{on:{injured:function(e){return t.addInjury(s,e)}}})],1),a("td",{staticClass:"d-none d-sm-table-cell"},[a("b",[t._v("Doubles:")]),t._v(" "+t._s(t.doubles_count(s)))])]):t._e()]}))],2)])])])])})),0)])])])])])])}),f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("N.")]),a("th",[t._v("Lvl.")]),a("th",[t._v("SPP")]),a("th",[t._v("TV")]),a("th",[t._v("Name")]),a("th",[t._v("Position")]),a("th",[t._v("Skills")]),a("th",[t._v("Injuries")]),a("th",[t._v("Valid")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("h6",[t._v("Comment:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("h6",[t._v("Collection")])])}],g=(a("0481"),a("4069"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_injury,expression:"selected_injury"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_injury=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"DISABLED",disabled:"",selected:""}},[t._v("Injury?")]),a("option",{attrs:{value:""}},[t._v("Cancel")]),a("option",{attrs:{value:"X"}},[t._v("Reset")]),t._l(t.injuries,(function(e,s){return a("option",{key:s,attrs:{title:e[0]},domProps:{value:e[0]}},[t._v(t._s(e[1]))])}))],2)])}),C=[],b={name:"injury-picker",data:function(){return{injuries:[["SmashedKnee","Niggle"],["DamagedBack","Niggle"],["SmashedAnkle","MA-"],["SmashedHip","MA-"],["SeriousConcussion","AV-"],["FracturedSkull","AV-"],["BrokenNeck","AG-"],["SmashedCollarBone","STR-"]],selected_injury:"DISABLED"}},watch:{selected_injury:function(t){this.$emit("injured",t)}}},k=b,y=a("2877"),x=Object(y["a"])(k,g,C,!1,null,null,null),w=x.exports,S={name:"deck",components:{"injury-picker":w},data:function(){return{processing:!1,selected_team:"All",show_starter:1,rarity_order:1,extra_card:"",deck:{cards:[],extra_cards:[],unused_extra_cards:[],deck_upgrade_cards:[],mixed_team:"",team_name:"",comment:"",search_timeout:null,id:null,log:""},team:{},team_check:{apothecary:{msg:"OK",value:!0},rerolls:{msg:"OK",value:!0},roster:{msg:"OK",value:!0}},phases:{deck_building:"Deck Building",locked:"Locked",special_play:"Special Play",inducement:"Inducement",blood_bowl:"Blood Bowl"}}},methods:{canAddToDeck:function(t){if(!this.is_owner)return!1;if(this.locked)return this.flash("Deck is locked!","info",{timeout:3e3}),!1;if(!0===this.processing)return!1;if(t.duster)return this.flash("Cannot add card - card is flagged for dusting!","error",{timeout:3e3}),!1;if("extra"!==t.deck_type&&"extra_inducement"!==t.deck_type){if(("Special Play"!==t.template.card_type||0!==this.user_special_plays.length)&&this.deck_size===this.tournament.deck_limit)return this.flash("Cannot add card - deck limit reached!","error",{timeout:3e3}),!1;if(this.deck_value+t.template.value>this.tournament.deck_value_limit)return this.flash("Cannot add card - deck value limit reached!","error",{timeout:3e3}),!1}return"All"===this.selected_team?(this.flash("Cannot add card - team not selected!","error",{timeout:3e3}),!1):!(this.deck_player_size>=16&&"Player"===t.template.card_type)||(this.flash("Cannot add card - 16 Player cards are already in the deck!","error",{timeout:3e3}),!1)},addToDeck:function(t){this.canAddToDeck(t)&&this.addCard(t)},canRemoveFromDeck:function(){return!!this.is_owner&&(this.locked?(this.flash("Deck is locked!","info",{timeout:3e3}),!1):!0!==this.processing)},removeFromDeck:function(t){this.canRemoveFromDeck(t)&&this.removeCard(t)},isInDeck:function(t){return this.development?t.in_development_deck:t.in_imperium_deck},async_error:function(t){if(t.response){var e=t.response.data.message?t.response.data.message:"Unknown error: ".concat(t.response.status);this.flash(e,"error",{timeout:3e3})}else console.error(t)},getDeck:function(){var t=this,e="/decks/".concat(this.deck_id),a=this.flash("Loading deck...","info");this.axios.get(e).then((function(e){t.deck=e.data,t.selected_team=""===t.deck.mixed_team?"All":t.deck.mixed_team,t.modal().modal("show")})).catch(this.async_error).then((function(){a.destroy()}))},getTeam:function(t){var e=this,a="/teams/".concat(encodeURIComponent(t)),s=this.flash("Loading team...","info");this.axios.get(a).then((function(a){!1===a.data?e.flash("Team ".concat(t," does not exist"),"error",{timeout:3e3}):(e.team=a.data,e.checkTeam())})).catch(this.async_error).then((function(){s.destroy()}))},resetTeamCheck:function(){this.team_check={apothecary:{msg:"OK",value:!0},rerolls:{msg:"OK",value:!0},roster:{msg:"OK",value:!0}}},checkApo:function(){this.team.team.apothecary!==this.hasApo()&&(this.team_check.apothecary.value=!1,this.team.team.apothecary?this.team_check.apothecary.msg="Apothecary should not be included":this.team_check.apothecary.msg="Apothecary is missing")},checkRRs:function(){this.team.team.rerolls!==this.numberOfRerolls()&&(this.team_check.rerolls.value=!1,this.team_check.rerolls.msg="Number of RRs do not match")},checkRoster:function(){var t=this;this.team.roster.length!==this.deck_cards.filter((function(t){return"Player"===t.template.card_type})).length&&(this.team_check.roster.value=!1,this.team_check.roster.msg="Number of players does not match");var e=[];this.team.roster.forEach((function(a){a.check={value:!1,msg:"Player not found"},t.deck_cards.forEach((function(s){e.includes(t.card_id_or_uuid(s))||a.check.value||"Player"===s.template.card_type&&t.positional_mapping(s).includes(t.positional_from_api(a.type))&&t.equal_sets(t.skill_names_for_player_card(s).concat(t.assigned_skills(s)),a.skills)&&t.equal_sets(t.player_injuries(s),a.casualties_state)&&(e.push(t.card_id_or_uuid(s)),a.check={value:!0,msg:"Player found"})}))}))},checkTeam:function(){this.resetTeamCheck(),this.checkApo(),this.checkRRs(),this.checkRoster()},valid:function(t){return!!t.check.value},equal_sets:function(t,e){var a={};if(t.length!==e.length)return!1;try{t.forEach((function(s){var i=t.filter((function(t){return t===s})).length,r=e.filter((function(t){return t===s})).length;if(i!==r)throw a}))}catch(s){if(s!==a)throw s;return!1}return!0},positional_mapping:function(t){var e=t.template.race.split("/"),a=e.map((function(e){e=e.replace(/\s/g,""),"Bretonnian"===e&&(e="Bretonnia");var a=t.template.position;return a=a.replace(/\s/g,""),"".concat(e," ").concat(a)}));return a},hasApo:function(){var t=this.race(this.team.team.idraces);return"Afterlife United"!==t&&void 0!==this.deck.cards.find((function(t){return["Apothecary","Clever Management","Inspirational Boss"].includes(t.template.name)}))},numberOfRerolls:function(){var t=this.race(this.team.team.idraces),e=[2,2,1];"Afterlife United"===t&&(e=[3,2,2]);var a=this.deck.cards.filter((function(t){return"Inspirational Boss"===t.template.name})).length*e[0],s=this.deck.cards.filter((function(t){return"Motivational Speaker"===t.template.name})).length*e[1],i=this.deck.cards.filter((function(t){return"Clever Management"===t.template.name})).length*e[2];return this.deck.cards.filter((function(t){return"Re-roll"===t.template.name})).length+a+s+i},cloneExtraCard:function(t){this.addExtraCard(t.template.name)},addExtraCard:function(t){var e=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else{var a="/decks/".concat(this.deck_id,"/addcard/extra");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,{name:t}).then((function(t){var a="Extra card added!";e.flash(a,"success",{timeout:1e3}),e.deck=t.data,e.extra_card=""})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},removeExtraCard:function(t){var e=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else{var a="/decks/".concat(this.deck_id,"/removecard/extra");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Extra card removed!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data,e.removeAllInjuries(t)})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},deck_valid:function(){var t=this;if(this.deck_player_size<11)return this.flash("You need to include at least 11 player cards!","error",{timeout:3e3}),!1;if(this.deck_size!==this.tournament.deck_limit)return this.flash("You need to include ".concat(this.tournament.deck_limit," cards!"),"error",{timeout:3e3}),!1;if(""===this.deck.team_name)return this.flash("Team name is not specified!","error",{timeout:3e3}),!1;if("All"===this.deck.mixed_team)return this.flash("Team mixed race is not specified!","error",{timeout:3e3}),!1;var e=this.sortedCardsWithoutQuantity(this.deck_cards,"Training",!1),a=e.find((function(e){return 0===t.get_card_assignment(e).length||t.get_card_assignment(e).includes(void 0)||t.get_card_assignment(e).includes(null)}));return void 0===a||(this.flash("Not all training cards are assigned to players!","error",{timeout:3e3}),!1)},commit:function(){var t=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else if(this.deck_valid()){var e="/decks/".concat(this.deck_id,"/commit");this.processing=!0;var a=this.flash("Processing...","info");this.axios.get(e).then((function(e){var a="Deck commited!";t.flash(a,"success",{timeout:1e3}),t.deck=e.data,t.$parent.$emit("reloadTournament")})).catch(this.async_error).then((function(){a.destroy(),t.processing=!1}))}},reset:function(){var t=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else{var e="/decks/".concat(this.deck_id,"/reset");this.processing=!0;var a=this.flash("Processing...","info");this.axios.get(e).then((function(e){var a="Deck reset!";t.flash(a,"success",{timeout:1e3}),t.deck.cards.forEach((function(e){t.clearCard(e)})),t.deck=e.data})).catch(this.async_error).then((function(){a.destroy(),t.processing=!1}))}},addCard:function(t){var e=this,a="/decks/".concat(this.deck_id,"/addcard");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Card added!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data;var i=e.development?"in_development_deck":"in_imperium_deck";t[i]=!0})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))},assignCard:function(t){var e=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else{var a="/decks/".concat(this.deck_id,"/assign");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(t){var a="Card assigned!";e.flash(a,"success",{timeout:1e3}),e.deck=t.data})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))}},removeCard:function(t){var e=this,a="/decks/".concat(this.deck_id,"/remove");this.processing=!0;var s=this.flash("Processing...","info");this.axios.post(a,t).then((function(a){var s="Card removed!";e.flash(s,"success",{timeout:1e3}),e.deck=a.data,t.id&&"extra"!==t.deck_type&&"extra_inducement"!==t.deck_type&&e.clearCard(t),e.removeAllInjuries(t)})).catch(this.async_error).then((function(){s.destroy(),e.processing=!1}))},phaseDone:function(){this.deck.phase_done=!0,this.updateDeck()},clearCard:function(t){var e=this.development?"in_development_deck":"in_imperium_deck",a=this.coach.cards.find((function(e){return e.id===t.id}));a[e]=!1},updateDeck:function(){var t=this;if(this.is_owner)if(this.locked)this.flash("Deck is locked!","info",{timeout:3e3});else{var e="/decks/".concat(this.deck_id);this.processing=!0;var a={team_name:this.deck.team_name,mixed_team:this.deck.mixed_team,comment:this.deck.comment,injury_map:this.deck.injury_map,phase_done:this.deck.phase_done};this.axios.post(e,{deck:a}).then((function(e){t.deck=e.data})).catch(this.async_error).then((function(){t.processing=!1}))}},debounceUpdateName:function(t){this.search_timeout&&clearTimeout(this.search_timeout);var e=this;this.search_timeout=setTimeout((function(){e.deck.team_name=t,e.updateDeck()}),1e3)},debounceUpdateComment:function(t){this.search_timeout&&clearTimeout(this.search_timeout);var e=this;this.search_timeout=setTimeout((function(){e.deck.comment=t,e.updateDeck()}),1e3)},modal:function(){return this.$("#deck".concat(this.id))},extra_type:function(t){switch(t){case"base":case null:return"";default:return"extra_card"}},deck_size_for:function(t){return this.deck_cards.filter((function(e){return e.template.card_type===t})).length},card_id_or_uuid:function(t){return t.id?String(t.id):String(t.uuid)},assigned_cards:function(t){var e=this;return this.deck_cards.filter((function(a){return e.get_card_assignment(a).includes(String(e.card_id_or_uuid(t)))}))},player_injuries:function(t){return this.assigned_injuries(t).concat(this.injury_names_for_player_card(t))},assigned_injuries:function(t){var e;return e=this.deck.injury_map[this.card_id_or_uuid(t)]?this.deck.injury_map[this.card_id_or_uuid(t)]:[],e},assigned_skills:function(t){var e=this;return this.assigned_cards(t).map((function(t){var a=e.skill_names_for(t);return a.map((function(t){return e.skill_to_api_skill(t)}))})).flat()},deck_skills_for:function(t){var e=this,a=this.assigned_cards(t),s=this.player_injuries(t);return a.map((function(a){var s=!1,i=e.skill_names_for(a);return i.forEach((function(a){e.is_skill_double(t,a)&&(s=!0)})),e.skills_for(a,s)})).join("")+s.map((function(t){return e.imgs_for_skill(t)})).join("")},get_card_assignment:function(t){return t.assigned_to_array[this.deck.id]?t.assigned_to_array[this.deck.id]:[]},is_tr_card_assigned_as_double:function(t){var e=this,a=this.get_card_assignment(t),s=!1;return a.forEach((function(a){var i=e.deck_cards.find((function(t){return String(t.id)===String(a)||String(t.uuid)===String(a)}));if(i){var r=e.skill_names_for(t);r.forEach((function(t){e.is_skill_double(i,t)&&(s=!0)}))}})),s},doubles_count:function(t){var e=this,a=this.deck_cards.filter((function(a){return e.get_card_assignment(a).includes(String(e.card_id_or_uuid(t)))})),s=0;return a.forEach((function(a){if("extra"!==a.deck_type){var i=e.skill_names_for(a),r=0;i.forEach((function(a){e.is_skill_double(t,a)&&(r=1)})),s+=r}})),s},is_guarded:function(t){var e=this;if("Player"!==t.template.card_type)return!1;var a=this.deck_cards.filter((function(a){return e.get_card_assignment(a).includes(String(e.card_id_or_uuid(t)))}));return void 0!==a.find((function(t){return["Bodyguard","Hired Muscle","Personal Army"].includes(t.template.name)}))},injuryPickerOpened:function(t){return!t.cas_pick},openInjuryPicker:function(t){t.cas_pick=!0,this.$forceUpdate()},addInjury:function(t,e){var a=this.card_id_or_uuid(t);this.deck.injury_map[a]||(this.deck.injury_map[a]=[]),""!==e&&"X"!==e&&this.deck.injury_map[a].push(e),t.cas_pick=!1,"X"===e?this.removeAllInjuries(t):this.updateDeck()},removeAllInjuries:function(t){var e=this.card_id_or_uuid(t);this.deck.injury_map[e]=[],this.updateDeck()}},watch:{selected_team:function(t){this.deck.mixed_team=t,this.updateDeck()},deck_id:function(){this.getDeck()}},computed:{id:function(){return"C".concat(this.coach.id,"T").concat(this.tournament.tournament_id)},tier_tax:function(){var t=this,e=this.mixed_teams.find((function(e){return e.name===t.selected_team}));return e?e.tier_tax:0},development:function(){return"Development"===this.tournament.type},user_deck_cards:function(){return this.deck.cards},assignable_deck_player_cards:function(){return this.deck_player_cards.filter((function(t){return!["Legendary","Inducement","Unique","Blessed","Cursed"].includes(t.template.rarity)}))},deck_player_cards:function(){return this.deck_cards.filter((function(t){return"Player"===t.template.card_type}))},deck_player_size:function(){return this.deck_size_for("Player")},deck_cards:function(){return this.deck.cards.concat(this.deck.extra_cards)},collection_cards:function(){return this.coach.cards.concat(this.deck.unused_extra_cards)},user_special_plays:function(){return this.user_deck_cards.filter((function(t){return"Special Play"===t.template.card_type}))},deck_size:function(){var t=this.user_special_plays.length,e=t>0?1:0;return this.user_deck_cards.length-e},extra_card_placeholder:function(){return"deck_building"===this.tournament.phase?"Type exact name of Sponsor Card and click Add":"special_play"===this.tournament.phase?"Type exact name of Card and click Add":"inducement"===this.tournament.phase?"Type exact name of Inducement Card and click Add":""},doneable_phase:function(){return!!["special_play","inducement"].includes(this.tournament.phase)},extra_allowed:function(){return!0},started:function(){return"OPEN"!==this.tournament.status},locked:function(){return"locked"===this.tournament.phase||"blood_bowl"===this.tournament.phase},sorted_roster:function(){if("roster"in this.team){var t=this.team.roster;return t.sort((function(t,e){return t.number-e.number}))}return[]},deck_doubles_count:function(){var t=this,e=0;return this.deck_cards.forEach((function(a){"Training"===a.template.card_type&&"extra"!==a.deck_type&&(e+=t.is_tr_card_assigned_as_double(a)?1:0)})),e},deck_value:function(){var t=this.user_deck_cards.reduce((function(t,e){return t+e.template.value}),0);return t+this.tier_tax},has_deck_upgrade:function(){return this.deck_upgrades.length>0},deck_upgrades:function(){return this.deck.deck_upgrade_cards}},beforeMount:function(){this.getDeck(),this.$parent.$emit("reloadTournament")},mounted:function(){var t=this;this.modal().on("hidden.bs.modal",(function(){return t.$parent.$emit("deckClosed")})),this.$((function(){t.$('[data-toggle="tooltip"]').tooltip()}))},props:["coach","tournament","deck_id","is_owner"]},P=S,T=Object(y["a"])(P,p,f,!1,null,null,null),A=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["btn","btn-danger"],attrs:{type:"button",disabled:t.stepsComplete},on:{click:function(e){return t.incrementStep()}}},[t._v(" "+t._s(t.currentMessage)+" ")])},D=[],$={name:"confirmation-button",data:function(){return{defaultSteps:["Click to confirm","Are you sure?","✔"],currentStep:0}},props:{messages:Array},computed:{messageList:function(){return this.messages?this.messages:this.defaultSteps},currentMessage:function(){return this.messageList[this.currentStep]},lastMessageIndex:function(){return this.messageList.length-1},stepsComplete:function(){return this.currentStep===this.lastMessageIndex}},methods:{incrementStep:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.currentStep+=1,this.stepsComplete?this.$emit("confirmation-success"):(this.$emit("confirmation-incremented"),this.timeout=setTimeout((function(){return t.reset()}),3e3))},reset:function(){this.currentStep=0,this.$emit("confirmation-reset")}}},O=$,B=Object(y["a"])(O,E,D,!1,null,null,null),j=B.exports,M={name:"tournament",components:{deck:A,"confirmation-button":j},data:function(){return{processing:!1,prize_menu:!1,prizes:[],selected:{coach:{},deck_id:null,phase:"deck_building"},show_deck:!1,phases:[{name:"deck_building",desc:"Deck Building"},{name:"locked",desc:"Locked"},{name:"special_play",desc:"Special Play"},{name:"inducement",desc:"Inducement"},{name:"blood_bowl",desc:"Blood Bowl"}]}},props:["tournament","coaches","data-parent","user"],methods:{getProperty:function(t){return this[t]},setprizes:function(){this.prize_menu=!0,this.call("cards");while(this.prizes.length<this.tournament.coach_limit){var t=new RegExp("(".concat(this.prizes.length+1,"\\S+):(\\s+\\d+)"),"g"),e=t.exec(this.tournament.prizes),a=null!==e?e[2].trim():0,s=null!==e?e[1].trim():0;if(0===a){switch(this.prizes.length){case 0:s="Winner";break;case 1:s="Runner-Up";break;case 2:case 3:s="Semi-Final";break;case 4:case 5:case 6:case 7:s="Quarter-Final";break;default:s=""}t=new RegExp("".concat(s,":(\\s+\\d+)"),"g"),e=t.exec(this.tournament.prizes),a=null!==e?e[1].trim():0}this.add_prize({coach:"",amount:a,reason:"".concat(this.tournament.type," ").concat(this.tournament.mode," ").concat(s)})}if("None"!==this.tournament.sponsor&&""!==this.tournament.sponsor)while(this.prizes.length<2*this.tournament.coach_limit)this.add_prize({coach:"",amount:0,reason:"".concat(this.tournament.sponsor," Bonus")})},add_prize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{coach:"",amount:0,reason:""};this.prizes.push(t)},remove_prize:function(t){this.prizes.splice(t,1)},reset_prizes:function(){this.prizes=[],this.setprizes()},check_prizes:function(){for(var t=0;t<this.prizes.length;t+=1){if(""===this.prizes[t].coach)return this.flash("Coach not selected","error",{timeout:3e3}),!1;if(""===this.prizes[t].reason)return this.flash("Reason not specified","error",{timeout:3e3}),!1}return!0},award_and_stop:function(){var t=this;if(this.check_prizes()){this.processing=!0;var e="/tournaments/".concat(this.tournament.id,"/close"),a=this.flash("Processing...","info");this.axios.post(e,this.prizes).then((function(e){var a="Prizes awarded and tournament stopped";t.flash(a,"success",{timeout:3e3}),t.prizes=[],t.prize_menu=!1,t.$parent.$emit("updateTournament",e.data)})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)})).then((function(){a.destroy(),t.processing=!1}))}},set_phase:function(){var t=this;this.processing=!0;var e="/tournaments/".concat(this.tournament.id,"/set_phase"),a=this.flash("Processing...","info");this.axios.post(e,{phase:this.selected.phase}).then((function(e){var a="Phase updated!";t.flash(a,"success",{timeout:3e3}),t.$parent.$emit("updateTournament",e.data)})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)})).then((function(){a.destroy(),t.processing=!1}))},start:function(){this.call("start")},cards:function(){this.call("cards")},sign:function(){this.call("sign")},resign:function(){this.call("resign")},update:function(){this.call("update")},get:function(){this.call("get")},call:function(t){var e,a,s,i=this;"update"===t?(e="/tournaments/".concat(t),a=this.flash("Updating...","info")):e="get"===t?"/tournaments/".concat(this.tournament.id):"/tournaments/".concat(this.tournament.id,"/").concat(t);var r=!0;this.processing=!0,this.axios.get(e).then((function(e){"sign"===t?s="Signup to ".concat(i.tournament.name," succeded"):"resign"===t?s="Resignation from ".concat(i.tournament.name," succeded"):"start"===t?s="Start of ".concat(i.tournament.name," initiated. Check discord!"):"update"===t?s="Tournaments updated":"get"!==t&&"cards"!==t||(r=!1),r&&i.flash(s,"success",{timeout:3e3}),i.tournament.fee>0&&["sign","resign"].includes(t)&&("sign"===t?s="Charged registration fee ".concat(i.tournament.fee," coins"):"resign"===t&&(s="Refunded registration fee ".concat(i.tournament.fee," coins")),i.flash(s,"info",{timeout:3e3})),["sign","resign","get","start"].includes(t)?i.$parent.$emit("updateTournament",e.data):"update"===t?i.$parent.$emit("updateTournaments",e.data):"cards"===t&&e.data.forEach((function(t){i.has_keyword(t,"Payout")&&i.add_prize({coach:"",amount:0,reason:t.template.name})}))})).catch((function(t){t.response?i.flash(t.response.data.message,"error",{timeout:3e3}):console.error(t)})).then((function(){i.processing=!1,"undefined"!==typeof a&&a.destroy()}))},showDeck:function(t){var e=this.tournament.tournament_signups.find((function(e){return e.coach===t.id}));this.selected.deck_id=e.deck,this.selected.coach=t,this.show_deck=!0},is_owner:function(t){return!(!this.loggedCoach||this.loggedCoach.id!==t.id)}},computed:{selected_phase:function(){return this.selected.phase},signed:function(){return this.tournament.tournament_signups.filter((function(t){return"active"===t.mode}))},reserved:function(){return this.tournament.tournament_signups.filter((function(t){return"active"!==t.mode}))},signed_ids:function(){return this.signed.map((function(t){return t.coach}))},reserved_ids:function(){return this.reserved.map((function(t){return t.coach}))},signed_coaches:function(){var t=this;return this.coaches.filter((function(e){return t.signed_ids.includes(e.id)}))},reserved_coaches:function(){var t=this;return this.coaches.filter((function(e){return t.reserved_ids.includes(e.id)}))},signed_coaches_names:function(){return this.signed_coaches.map((function(t){return t.short_name}))},reserved_coaches_names:function(){return this.reserved_coaches.map((function(t){return t.short_name}))},is_user_signed:function(){return!(!this.user.username||!this.signed_coaches_names.concat(this.reserved_coaches_names).includes(this.user.username))},loggedCoach:function(){var t=this;if(this.user.id){var e=this.coaches.find((function(e){return e.id===t.user.coach.id}));return e}},is_webadmin:function(){return!(!this.loggedCoach||!this.loggedCoach.web_admin)},is_tournament_admin:function(){return!(!this.loggedCoach||this.loggedCoach.short_name!==this.tournament.admin)},phase:function(){var t=this,e=this.phases.find((function(e){return e.name===t.tournament.phase}));return e||this.phases[0]},show_date:function(){return"OPEN"===this.tournament.status?"(".concat(this.tournament.expected_start_date,")"):"RUNNING"===this.tournament.status?"(".concat(this.tournament.deadline_date,")"):""},is_full:function(){var t=this.tournament.coach_limit===this.tournament.tournament_signups.filter((function(t){return"active"===t.mode})).length,e=this.tournament.reserve_limit===this.tournament.tournament_signups.filter((function(t){return"active"!==t.mode})).length;return t&&e},is_running:function(){return"OPEN"!==this.tournament.status}},mounted:function(){var t=this;this.$on("deckClosed",(function(){t.show_deck=!1})),this.$on("reloadTournament",this.get),this.selected.phase=this.tournament.phase}},I=M,R=Object(y["a"])(I,m,v,!1,null,null,null),N=R.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade signup",attrs:{id:"signup_modal",tabindex:"-1",role:"dialog","aria-labelledby":"signup_modal","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t.is_user?t._e():a("h4",{staticClass:"modal-title"},[t._v("Authenticate")]),t.is_user&&!t.is_coach?a("h4",{staticClass:"modal-title"},[t._v("New Coach")]):t._e(),t.is_active?a("h4",{staticClass:"modal-title"},[t._v("Done")]):t._e(),t.is_coach&&!t.is_active?a("h4",{staticClass:"modal-title"},[t._v("Sign back")]):t._e(),t.migration_on?a("confirmation-button",{attrs:{messages:["Confirm","Are you sure?","I will accept no complaints! Ok?","You done goofed!"]},on:{"confirmation-success":function(e){return t.activate()}}},[t._v("Confirm")]):t._e()],1),a("div",{staticClass:"modal-body"},[t.is_user?t._e():[t._m(0)],t.is_user&&!t.is_coach?[a("h5",[t._v("Welcome to REBBL Imperium!")]),a("p",[t._v("We are not sure how it is possible that you have not played Imperium yet!!! To fix that "),a("a",{attrs:{href:"#"},on:{click:function(e){return t.newCoach()}}},[t._v("initialize")]),t._v(" your Imperium coach account please!")])]:t._e(),t.is_active?[t.migrated?a("h5",[t._v("Coach account has been succefully migrated!")]):a("h5",[t._v("Coach account has been succefully initialized!")]),t._m(1),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("Close")])]:t._e(),t.is_coach&&!t.is_active?[a("h5",[t._v("Welcome back to REBBL Imperium!")]),a("p",[t._v("Conclave is waiting for you to curse or bless you. As returning coach you can migrate some cards from previous season.")]),t.migration_on?t._e():a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.migrate()}}},[t._v("Migrate")])]:t._e(),t.migration_on?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[t._m(2),a("div",{attrs:{id:"migrationCollection"}},t._l(t.card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\\s/g,"")+"MigrationCollection"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#collapseMigrationCollection"+e.replace(/\\s/g,""),"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\\s/g,"")}},[t._v(" "+t._s(e)+" Cards ")])])]),a("div",{staticClass:"deck_ctype collapse show",attrs:{id:"collapseMigrationCollection"+e.replace(/\\s/g,""),"aria-labelledby":e.replace(/\\s/g,"")+"Cards","data-parent":"migrationCollection"}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Rarity")]),a("th",{staticClass:"d-xl-none"},[t._v("R")]),a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Value")]),a("th",{staticClass:"d-xl-none"},[t._v("V")]),a("th",[t._v("Name")]),"Training"==e||"Special Play"==e?a("th",[t._v("Skills")]):t._e(),"Player"==e?a("th",[t._v("Race")]):t._e(),"Player"==e||"Training"==e?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Subtype")]):t._e()])]),a("tbody",t._l(t.sortedCardsWithoutQuantity(t.eligible_cards,e),(function(s){return a("tr",{key:s.id,class:[t.rarityclass(s.template.rarity)],on:{click:function(e){return t.addToMigrationPack(s)}}},[a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+s.template.rarity+".jpg",alt:s.template.rarity,title:s.template.rarity,width:"20",height:"25"}})]),a("td",[t._v(t._s(s.template.value))]),a("td",{attrs:{title:s.template.description}},[t._v(t._s(s.template.name))]),"Training"==e||"Special Play"==e?a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}})]):t._e(),"Player"==e?a("td",[t._v(t._s(s.template.race))]):t._e(),"Player"==e||"Training"==e?a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(t._s(s.template.subtype))]):t._e()])})),0)])])])])})),0)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row mt-1"},[t._m(3),a("div",{staticClass:"col-4"},[a("h5",[t._v("Cards "+t._s(t.pack_size)+"/"+t._s(t.max_cards))])]),a("div",{staticClass:"col-4"},[a("h5",[t._v("Value "+t._s(t.pack_value)+"/"+t._s(t.max_value))])])]),a("div",{attrs:{id:"migrationPack"}},t._l(t.card_types,(function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:e.replace(/\\s/g,"")+"MigrationPack"}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{"data-toggle":"collapse","data-target":"#migrationDeck"+e.replace(/\\s/g,""),"aria-expanded":"true","aria-controls":"collapse"+e.replace(/\\s/g,"")}},[t._v(" "+t._s(e)+" Cards ")])])]),a("div",{staticClass:"deck_ctype collapse show",attrs:{id:"migrationDeck"+e.replace(/\\s/g,""),"aria-labelledby":e.replace(/\\s/g,"")+"Cards","data-parent":"#migrationPack"}},[a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table  table-striped table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Rarity")]),a("th",{staticClass:"d-xl-none"},[t._v("R")]),a("th",{staticClass:"d-none d-xl-table-cell"},[t._v("Value")]),a("th",{staticClass:"d-xl-none"},[t._v("V")]),a("th",[t._v("Name")]),"Training"==e||"Special Play"==e?a("th",[t._v("Skills")]):t._e(),"Player"==e?a("th",[t._v("Race")]):t._e(),"Player"==e||"Training"==e?a("th",{staticClass:"d-none d-sm-table-cell"},[t._v("Subtype")]):t._e()])]),a("tbody",[t._l(t.sortedCardsWithoutQuantity(t.pack_cards.concat(t.uniques),e,!1),(function(s){return[a("tr",{key:s.id,class:[t.rarityclass(s.template.rarity)],on:{click:function(e){return t.removeFromMigrationPack(s)}}},[a("td",[a("img",{staticClass:"rarity",attrs:{src:"static/images/"+s.template.rarity+".jpg",alt:s.template.rarity,title:s.template.rarity,width:"20",height:"25"}})]),a("td",[t._v(t._s(s.template.value))]),a("td",{attrs:{title:s.template.description}},[t._v(t._s(s.template.name))]),"Training"==e||"Special Play"==e?a("td",[a("span",{domProps:{innerHTML:t._s(t.skills_for(s))}})]):t._e(),"Player"==e?a("td",[t._v(t._s(s.template.race))]):t._e(),"Player"==e||"Training"==e?a("td",{staticClass:"d-none d-sm-table-cell"},[t._v(t._s(s.template.subtype))]):t._e()])]}))],2)])])])])})),0)])]):t._e()],2)])])])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("To be able to use this site you need to "),a("a",{attrs:{href:"/signin"}},[t._v("Sign in")]),t._v(" using Discord credentials first!")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Check your info tab for your initial bank balance and free pack. Then head to "),a("a",{attrs:{target:"_blank",href:"https://discord.gg/hdSQhRf"}},[t._v("Imperium Discord")]),t._v(" to generate your packs. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-12"},[a("h5",[t._v("Eligible Cards")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4"},[a("h5",[t._v("Migration Pack")])])}],F={name:"singup-modal",delimiters:["{{","}}"],props:["user"],components:{"confirmation-button":j},data:function(){return{processing:!1,old_cards:[],pack_cards:[],migration_on:!1,selected_team:"All",show_starter:!1,rarity_order:1,max_value:35,max_cards:5,max_legends:1,migrated:!1}},methods:{newCoach:function(){var t=this,e="/coaches",a=this.flash("Initializing coach...","info");this.axios.post(e).then((function(e){t.$parent.$emit("signedUpCoach",e.data)})).catch(this.async_error).then((function(){a.destroy()}))},pull_inactive_cards:function(){var t=this,e="/coaches/".concat(this.user.coach.id,"/cards/inactive"),a=this.flash("Getting last season cards...","info");this.axios.get(e).then((function(e){t.old_cards=e.data})).catch(this.async_error).then((function(){a.destroy()}))},async_error:function(t){if(t.response){var e=t.response.data.message?t.response.data.message:"Unknown error: ".concat(t.response.status);this.flash(e,"error",{timeout:3e3})}else console.error(t)},modal:function(){return this.$("#signup_modal")},open:function(){this.modal().modal({show:!0,backdrop:"static",keyboard:!1})},close:function(){this.modal().modal("hide")},migrate:function(){this.pull_inactive_cards(),this.migration_on=!0},activate:function(){var t=this,e="/coaches/".concat(this.user.coach.id,"/activate"),a=this.flash("Activating coach...","info");this.axios.put(e,{card_ids:this.to_migrate}).then((function(e){t.$parent.$emit("signedUpCoach",e.data),t.migration_on=!1,t.migrated=!0})).catch(this.async_error).then((function(){a.destroy()}))},addToMigrationPack:function(t){if(this.canAdd(t)){this.pack_cards.push(t);var e=this.old_cards.indexOf(t);this.old_cards.splice(e,1)}},removeFromMigrationPack:function(t){if(this.canRemove(t)){this.old_cards.push(t);var e=this.pack_cards.indexOf(t);this.pack_cards.splice(e,1)}},canRemove:function(t){return!this.uniques.includes(t)},canAdd:function(t){return this.pack_value+t.template.value>this.max_value?(this.flash("Cannot add card. Max value limit is ".concat(this.max_value,"!"),"error",{timeout:3e3}),!1):this.pack_size+1>this.max_cards?(this.flash("Cannot add card. Max card limit is ".concat(this.max_cards,"!"),"error",{timeout:3e3}),!1):"Legendary"!==t.template.rarity||this.pack_cards.filter((function(t){return"Legendary"===t.template.rarity})).length!==this.max_legends||(this.flash("Cannot add card. Max Legendary limit is ".concat(this.max_legends,"!"),"error",{timeout:3e3}),!1)}},computed:{is_user:function(){return!!this.user.id},is_coach:function(){return!(!this.user.coach||!this.user.coach.id)},is_active:function(){return!(!this.is_coach||!1!==this.user.coach.deleted)},eligible_cards:function(){return this.old_cards.filter((function(t){return!t.is_starter&&"Unique"!==t.template.rarity}))},uniques:function(){return this.old_cards.filter((function(t){return"Unique"===t.template.rarity&&"Beta Prepared"!==t.template.name}))},pack_size:function(){return this.pack_cards.length},pack_value:function(){return this.pack_cards.reduce((function(t,e){return t+e.template.value}),0)},to_migrate:function(){return this.pack_cards.concat(this.uniques).map((function(t){return t.id}))}}},U=F,G=Object(y["a"])(U,z,L,!1,null,null,null),H=G.exports,V={name:"App",data:function(){return{coaches:[],selectedCoach:{short_name:"",account:{amount:0,transactions:[]},tournaments:[],cards:[],id:0,achievements:{},stats:{},free_packs:""},tournaments:[],bb2_names:[],selected_t_region:"",selected_t_state:"",selected_t_mode:"",selected_team:"All",coach_filter:"",menu:"Coaches",search_timeout:null,user:{},loaded_user:!1,loaded_coaches:!1,processing:!1,leaderboard_loaded:!1,leaderboard:{deck_values:[],earners:[],stats:[],coaches:[]}}},components:{tournament:N,"signup-modal":H},methods:{updateTournament:function(t){var e=this.tournaments.findIndex((function(e){return e.id===parseInt(t.id,10)}));s["a"].set(this.tournaments,e,t)},getCoach:function(t){var e=this,a="/coaches/".concat(t);s["a"].axios.get(a).then((function(a){var i=e.coaches.findIndex((function(e){return e.id===parseInt(t,10)}));s["a"].set(e.coaches,i,a.data),e.selectedCoach=e.coaches[i],e.$nextTick((function(){e.$('[data-toggle="popover"]').popover()}))})).catch((function(t){console.error(t)}))},linkBB2Name:function(){var t=this,e=this.selectedCoach.id,a="/coaches/".concat(e);s["a"].axios.put(a,{name:this.selectedCoach.bb2_name}).then((function(a){var i=t.coaches.findIndex((function(t){return t.id===parseInt(e,10)}));s["a"].set(t.coaches,i,a.data),t.selectedCoach=t.coaches[i],t.flash("BB2 name updated","success",{timeout:3e3})})).catch((function(e){e.response?t.flash(e.response.data.message,"error",{timeout:3e3}):console.error(e)}))},getUser:function(){var t=this,e="/me";s["a"].axios.get(e).then((function(e){t.user=e.data.user,t.loaded_user=!0,t.$emit("loadedUser")})).catch((function(t){console.error(t)}))},getCoaches:function(){var t=this,e="/coaches";s["a"].axios.get(e).then((function(e){for(var a=e.data,s=0,i=a.length;s<i;s+=1)a[s].cards=[],a[s].tournaments=[],a[s].account={},a[s].account.transactions=[];t.coaches=a,t.loaded_coaches=!0,t.$nextTick((function(){t.$emit("loadedCoaches")}))})).catch((function(t){console.error(t)}))},getLeaderboard:function(){var t=this,e="/coaches/leaderboard";s["a"].axios.get(e).then((function(e){t.leaderboard.coaches=e.data.coaches,t.leaderboard.stats=e.data.coach_stats})).catch((function(t){console.error(t)}))},getTournaments:function(){var t=this,e="/tournaments";s["a"].axios.get(e).then((function(e){t.tournaments=e.data})).catch((function(t){console.error(t)}))},getBBNames:function(){var t=this,e="/bb2_names";s["a"].axios.get(e).then((function(e){t.bb2_names=e.data})).catch((function(t){console.error(t)}))},debounceCoachSearch:function(t){var e=this;this.search_timeout&&clearTimeout(this.search_timeout),this.search_timeout=setTimeout((function(){e.coach_filter=t}),300)},selectCoach:function(){var t=this.loggedCoach;t&&!1===t.deleted?this.getCoach(this.loggedCoach.id):this.coaches.length>0&&this.getCoach(this.coaches[0].id)},tournamentsFor:function(t){return this.tournaments.filter((function(e){return t.tournaments.includes(e.id)}))},is_duster:function(){return this.loggedCoach.duster&&this.loggedCoach.duster.type},is_in_duster:function(t){return!!this.is_duster()&&this.loggedCoach.duster.cards.includes(t.id)},is_duster_full:function(){return!!this.is_duster()&&10===this.loggedCoach.duster.cards.length},is_duster_open:function(){return this.is_duster()&&"OPEN"===this.loggedCoach.duster.status},dust_add:function(t){this.dust("add",t)},dust_remove:function(t){this.dust("remove",t)},dust_cancel:function(){this.dust("cancel")},dust_commit:function(){this.dust("commit")},dust:function(t,e){var a,i,r=this;a=e?"/duster/".concat(t,"/").concat(e.id):"/duster/".concat(t),this.processing=!0,s["a"].axios.get(a).then((function(a){if("add"===t)i="Card ".concat(e.template.name," flagged for dusting");else if("remove"===t)i="Card ".concat(e.template.name," - dusting flag removed");else if("cancel"===t)i="Dusting cancelled";else if("commit"===t){var s="Tryouts"===a.data.type?"!genpack player <type>":"!genpack training or !genpack special";i="Dusting committed! Use ".concat(s," to generate a free pack!"),r.getCoach(r.loggedCoach.id)}r.loggedCoach.duster=a.data,r.flash(i,"success",{timeout:3e3})})).catch((function(t){t.response?r.flash(t.response.data.message,"error",{timeout:3e3}):console.error(t)})).then((function(){r.processing=!1}))},is_loggedcoach:function(t){return void 0!==this.loggedCoach&&(this.loggedCoach.bb2_name===t||this.loggedCoach.short_name===t)},leaderboard_class:function(t){return this.is_loggedcoach(t)?"table-success":""},team_achievements:function(t){var e=this;return t.achievements.team?[32,33,34,35,36,37,38,39,40,41,42].map((function(a){return{team_name:e.mixed_teams.find((function(t){return t.idraces===a})).name,achievements:t.achievements.team[a]}})):[]},match_achievements:function(t){return t.achievements.match?["passingtotal1","passingtotal2","runningtotal1","runningtotal2","surfstotal1","surfstotal2","blocks1game1","blocks1game2","breaks1game1","breaks1game2","cas1game1","cas1game2","int1game1","score1game1","score1game2","sufferandwin1","sufferandwin2","winwithall","win500down"].map((function(e){return t.achievements.match[e]})):[]},quest_achievements:function(t){return t.achievements.quests?["collect3legends","buildyourownlegend"].map((function(e){return t.achievements.quests[e]})):[]},conclave_achievements:function(t){return t.achievements.conclave?["getcursed1","getcursed2","getcursed3","getblessed1","getblessed2","getblessed3"].map((function(e){return t.achievements.conclave[e]})):[]},progress:function(t){return t>1?100:100*t},achievement_state_class:function(t){return 100===this.progress(t.best/t.target)?"btn-success":"btn-secondary"},achievement_ready:function(t){return 100===this.progress(t.best/t.target)&&!t.completed},getStat:function(t){for(var e=t.stats,a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];for(var r=0;r<s.length;r+=1){if(!e[s[r]])return 0;e=e[s[r]]}return e},team_stats:function(t){var e=this;return t.stats.teams?[32,33,34,35,36,37,38,39,40,41,42].map((function(a){return{team_name:e.mixed_teams.find((function(t){return t.idraces===a})).name,stats:t.stats.teams[a]}})):[]},getTeamStat:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return t.stats&&t.stats[a[0]]?t.stats[a[0]]:0},getFreePacks:function(t){return t.free_packs.split(",").map((function(t){switch(t){case"player":return"Player";case"training":return"Training";case"special":return"Special Play";case"booster_budget":return"Booster";case"booster_premium":return"Booster Premium";default:return""}})).join(", ")},signedCallback:function(t){this.user.coach=t,this.getCoaches()}},computed:{duster_type:function(){return this.is_duster()?this.loggedCoach.duster.type:"No dusting in progress"},orderedCoaches:function(){var t=this.coaches;return t.sort((function(t,e){return t.name.localeCompare(e.name)}))},filteredCoaches:function(){var t=this;return this.orderedCoaches.filter((function(e){return e.name.toLowerCase().includes(t.coach_filter.toLowerCase())}))},filteredTournaments:function(){var t=this,e=this.tournaments;return""!==this.selected_t_region&&(e=e.filter((function(e){return e.region.toLowerCase().replace(/\s/g,"")===t.selected_t_region}))),""!==this.selected_t_mode&&(e=e.filter((function(e){return e.mode.toLowerCase().replace(/\s/g,"")===t.selected_t_mode}))),"full"===this.selected_t_state?e=e.filter((function(t){return t.coach_limit===t.tournament_signups.filter((function(t){return"active"===t.mode})).length})):"free"===this.selected_t_state?e=e.filter((function(t){return t.coach_limit>t.tournament_signups.filter((function(t){return"active"===t.mode})).length})):"admined_by_me"===this.selected_t_state?e=e.filter((function(e){return t.loggedCoach&&t.loggedCoach.short_name===e.admin})):"entered"===this.selected_t_state&&(e=e.filter((function(e){if(void 0!==t.loggedCoach)for(var a=0;a<e.coach_limit;a+=1)if(e.tournament_signups[a]&&e.tournament_signups[a].coach===t.loggedCoach.id)return e;return!1}))),e},loggedCoach:function(){if(this.user.id&&this.user.coach&&this.user.coach.id)return this.user.coach},loaded_user_and_coaches:function(){return!(!this.loaded_user||!this.loaded_coaches)},is_active:function(){return!(!this.user.id||!this.loggedCoach||this.loggedCoach.deleted)},is_webadmin:function(){return!(!this.loggedCoach||!this.loggedCoach.web_admin)},stats_coach:function(){var t=this;return this.leaderboard.stats.find((function(e){return t.is_loggedcoach(e.name)}))},leaderboard_coach:function(){var t=this;return this.leaderboard.coaches.find((function(e){return t.is_loggedcoach(e.short_name)}))},collectors_sorted:function(){return this.leaderboard.coaches.slice().sort((function(t,e){return e.collection_value-t.collection_value}))},earners_sorted:function(){return this.leaderboard.coaches.slice().sort((function(t,e){return e.earned-t.earned}))},grinders_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.matches-t.matches}))},points_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.points-t.points}))},ppg_sorted:function(){var t=this;return this.leaderboard.stats.slice().sort((function(e,a){return t.per_game(a.points,a.matches)-t.per_game(e.points,e.matches)}))},scorers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedtouchdowns-t.inflictedtouchdowns}))},tpg_sorted:function(){var t=this;return this.leaderboard.stats.slice().sort((function(e,a){return t.per_game(a.inflictedtouchdowns,a.matches)-t.per_game(e.inflictedtouchdowns,e.matches)}))},bashers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedcasualties-t.inflictedcasualties}))},cpg_sorted:function(){var t=this;return this.leaderboard.stats.slice().sort((function(e,a){return t.per_game(a.inflictedcasualties,a.matches)-t.per_game(e.inflictedcasualties,e.matches)}))},hitmen_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflicteddead-t.inflicteddead}))},passers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedpasses-t.inflictedpasses}))},surfers_sorted:function(){return this.leaderboard.stats.slice().sort((function(t,e){return e.inflictedpushouts-t.inflictedpushouts}))},is_owner:function(){return!(!this.loggedCoach||!this.selectedCoach||this.loggedCoach.id!==this.selectedCoach.id)}},watch:{menu:function(t){var e=this;"Leaderboard"===t&&!1===this.leaderboard_loaded&&(this.getLeaderboard(),this.leaderboard_loaded=!0),"Coaches"===t&&this.$nextTick((function(){e.$('[data-toggle="popover"]').popover()}))},loaded_user_and_coaches:function(t){!0!==t||this.is_active||this.$refs.signupModal.open()}},mounted:function(){this.$on("loadedUser",this.selectCoach),this.$on("signedUpCoach",this.signedCallback),this.$on("updateTournament",this.updateTournament),this.$on("updateTournaments",this.getTournaments)},beforeMount:function(){this.getUser(),this.getCoaches(),this.getTournaments(),this.getBBNames()}},W=V,q=Object(y["a"])(W,_,h,!1,null,null,null),K=q.exports,Q=(a("d3b7"),a("ade3")),J=a("5530"),Y=a("d4ec"),X=a("bee2"),Z=(a("b64b"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.duration,a=void 0===e?3e3:e,s=t.css,i=void 0===s?null:s,r=arguments.length>1?arguments[1]:void 0;return{render:function(t){var e=this,a=[];return Object.keys(this.storage).map((function(s){var i=[t("div",{attrs:{class:"flash__message-content"},domProps:{innerHTML:e.storage[s].content}})];return e.storage[s].options.important||i.push(t("button",{attrs:{type:"button",class:"flash__close-button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.destroyFlash(s)}}},[t("span",{attrs:{"aria-hidden":"true"},domProps:{innerHTML:"&times;"}})])),a.push(t("div",{class:"".concat(e.cssClasses(s)," flash__message"),key:s,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"},on:{mouseover:function(){e.onMouseOver(s)},mouseleave:function(){e.onMouseOut(s)}}},i)),!1})),t("div",{},[t("transition-group",{attrs:{name:this.transitionName,tag:"div"},class:this.outerClass},a)])},props:{transitionName:{type:String,default:"flash-transition"},outerClass:{type:String,default:"flash__wrapper"}},data:function(){return Object.assign({message:null,closed:!1,_timeout:null},{duration:a,css:i})},computed:{storage:function(){return r.storage}},methods:{cssClasses:function(t){return this.getFlash(t).type},getFlash:function(t){return this.storage[t]},destroyFlash:function(t){this.getFlash(t).destroy()},onMouseOver:function(t){var e=this.getFlash(t);"undefined"!==typeof e&&e.onStartInteract()},onMouseOut:function(t){var e=this.getFlash(t);"undefined"!==typeof e&&e.onCompleteInteract()}}}});function tt(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function et(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}));return e}var at=function(){function t(e,a,s,i,r){Object(Y["a"])(this,t);var n={autoEmit:!0,important:!1,pauseOnInteract:!1,timeout:0,beforeDestroy:null,onStartInteract:null,onCompleteInteract:null};this.storage=e,this.content=a,this.options=Object.assign(n,r,i),this.type=s,this.id=et(),this.timer=null,this.options.autoEmit&&this.emit()}return Object(X["a"])(t,[{key:"emit",value:function(){this.storage.push(this.id,this),this.startSelfDestructTimer()}},{key:"destroy",value:function(){this.killSelfDestructTimer(),this.beforeDestroy(),this.storage.destroy(this.id)}},{key:"setSelfDestructTimeout",value:function(t){this.options.timeout=t}},{key:"startSelfDestructTimer",value:function(){var t=this;this.options.timeout>0&&setTimeout((function(){t.destroy()}),this.options.timeout)}},{key:"killSelfDestructTimer",value:function(){clearTimeout(this.timer)}},{key:"beforeDestroy",value:function(){tt(this.options.beforeDestroy)&&this.options.beforeDestroy()}},{key:"onStartInteract",value:function(){this.options.pauseOnInteract&&this.killSelfDestructTimer(),tt(this.options.onStartInteract)&&this.options.onStartInteract()}},{key:"onCompleteInteract",value:function(){this.options.pauseOnInteract&&this.startSelfDestructTimer(),tt(this.options.onCompleteInteract)&&this.options.onCompleteInteract()}}]),t}(),st={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={method:"flash",storage:"$flashStorage",createShortcuts:!0,name:"flash-message"},s=Object.assign(a,e),i=new t({data:function(){return{storage:{}}},methods:{flash:function(t,e,a){return new at(i,t,e,a)},push:function(e,a){t.set(this.storage,e,a)},destroy:function(e){t.delete(this.storage,e)},destroyAll:function(){t.set(this,"storage",{})}}}),r=s.createShortcuts?{flashInfo:function(t,e){return this[s.method](t,"info",e)},flashError:function(t,e){return this[s.method](t,"error",e)},flashWarning:function(t,e){return this[s.method](t,"warning",e)},flashSuccess:function(t,e){return this[s.method](t,"success",e)}}:{};t.mixin({methods:Object(J["a"])(Object(Q["a"])({},s.method,(function(t,e,a){return arguments.length>0?new at(i,t,e,a,s.messageOptions):i})),r)}),t.prototype[s.storage]=i,t.component(s.name,Z(s,i))}};a("f9e3"),a("5aea");s["a"].use(c.a,r.a),s["a"].use(st),s["a"].prototype.$=l.a,s["a"].config.productionTip=!1,s["a"].mixin({data:function(){return{rarityorder:{Starter:10,Common:9,Rare:8,Epic:7,Inducement:6,Blessed:5,Cursed:4,Legendary:2,Unique:1},mixed_teams:[{idraces:38,code:"aog",tier_tax:0,name:"Alliance of Goodness",races:["Bretonnian","Human","Dwarf","Halfling","Wood Elf"]},{idraces:42,code:"au",tier_tax:0,name:"Afterlife United",races:["Undead","Necromantic","Khemri","Vampire"]},{idraces:37,code:"afs",tier_tax:0,name:"Anti-Fur Society",races:["Kislev","Norse","Amazon","Lizardman"]},{idraces:34,code:"cgs",tier_tax:0,name:"Chaos Gods Selection",races:["Chaos","Nurgle"]},{idraces:33,code:"cpp",tier_tax:0,name:"Chaotic Player Pact",races:["Chaos","Skaven","Dark Elf","Underworld"]},{idraces:36,code:"egc",tier_tax:0,name:"Elfic Grand Coalition",races:["High Elf","Dark Elf","Wood Elf","Pro Elf"]},{idraces:35,code:"fea",tier_tax:0,name:"Far East Association",races:["Chaos Dwarf","Orc","Goblin","Skaven","Ogre"]},{idraces:39,code:"hl",tier_tax:0,name:"Human League",races:["Bretonnian","Human","Kislev","Norse","Amazon"]},{idraces:32,code:"sbr",tier_tax:0,name:"Superior Being Ring",races:["Bretonnian","High Elf","Vampire","Chaos Dwarf"]},{idraces:41,code:"uosp",tier_tax:0,name:"Union of Small People",races:["Ogre","Goblin","Halfling"]},{idraces:40,code:"vt",tier_tax:0,name:"Violence Together",races:["Ogre","Goblin","Orc","Lizardman"]}],skills:{G:["Dauntless","Dirty Player","Fend","Kick-Off Return","Pass Block","Shadowing","Tackle","Wrestle","Block","Frenzy","Kick","Pro","Strip Ball","Sure Hands"],A:["Catch","Diving Catch","Diving Tackle","Jump Up","Leap","Sidestep","SideStep","Sneaky Git","Sprint","Dodge","Sure Feet"],P:["Accurate","Dump-Off","Hail Mary Pass","Nerves of Steel","Pass","Safe Throw","Leader"],S:["Break Tackle","Grab","Juggernaut","Multiple Block","Piling On","Stand Firm","Strong Arm","Thick Skull","Guard","Mighty Blow"],M:["Big Hand","Disturbing Presence","Extra Arms","Foul Appearance","Horns","Prehensile Tail","Tentacles","Two Heads","Very Long Legs","Claw"]},card_types:["Player","Training","Special Play","Reaction","Staff","Upgrade"],deck_card_types:["Player","Training","Special Play","Staff"],show_starter:1,rarity_order:1,skillreg:/(Diving Catch|Kick-Off Return|Safe Throw|Shadowing|Disturbing Presence|Sneaky Git|Horns|Guard|Mighty Blow|ST\+|\+ST|MA\+|\+MA|AG\+|\+AG|AV\+|\+AV|Block|Accurate|Strong Arm|Dodge|Juggernaut|Claw|Sure Feet|Break Tackle|Jump Up|Two Heads|Wrestle|Frenzy|Multiple Block|Tentacles|Pro|Strip Ball|Sure Hands|Stand Firm|Grab|Hail Mary Pass|Dirty Player|Extra Arms|Foul Appearance|Dauntless|Thick Skull|Tackle|Nerves of Steel|Catch|Pass Block|Piling On|Pass|Fend|Sprint|Grab|Kick|Pass Block|Leap|Sprint|Leader|Diving Tackle|Tentacles|Prehensile Tail|Sidestep|Dump-Off|Big Hand|Very Long Legs)( |,|\.|$)/g,injuryreg:/(Smashed Knee|Damaged Back|Niggle|Smashed Ankle|Smashed Hip|Serious Concussion|Fractured Skull|Broken Neck|Smashed Collarbone)( |,|\.|$)/g,markdown:new u.a.Converter}},methods:{has_keyword:function(t,e){var a=new RegExp("\\*\\*".concat(e,"\\*\\*"),"i");return null!==a.exec(t.template.description)},is_skill_double:function(t,e){return!["Strength Up!","Agility Up!","Movement Up!","Armour Up!","IncreaseMovement","IncreaseMovement","IncreaseStrength","IncreaseAgility"].includes(e)&&!(t.template.skill_access.indexOf(this.skill_to_group_map[e])>-1)},skill_access_for:function(t){var e=this,a=t.split(""),s=a.map((function(t){return e.skills[t]}));return Array.prototype.concat.apply([],s)},race:function(t){var e=this.mixed_teams.find((function(e){return e.idraces===t}));return e?e.name:"Unknown race"},positional_from_api:function(t){var e=t.split("_");return e.shift(),e.join(" ")},stadium_enhacement:function(t){var e=t.cards.find((function(t){return"Building"===t.type}));if(e)switch(e.name){case"Bazar":return"Magician's Shop";case"SecurityArea":return"Security Gate";case"RefreshmentArea":return"Beer Stand";case"RefereeArea":return"Referee Rest Area";case"Astrogranit":return"Astrogranite";case"ElfTurf":return"Elf Turf";case"VIPArea":return"Royal Box";case"FoodArea":return"Squig Sandwich Kiosk";case"Nuffle":return"Nuffle Altar";case"Roof":return"Magic Dome";default:return"None"}return"None"},rarityclass:function(t){var e;switch(t){case"Common":case"Starter":e="table-light";break;case"Rare":e="table-info";break;case"Epic":e="table-danger";break;case"Legendary":e="table-warning";break;case"Unique":e="table-success";break;case"Inducement":case"Blessed":case"Cursed":e="table-inducement";break;default:e="table-light"}return e},cardsValue:function(t){return t.reduce((function(t,e){return e.is_starter?t+0:t+e.template.value}),0)},sortedCards:function(t){if(0===this.rarity_order)return t;var e=this.rarityorder;function a(t,a){return e[t.template.rarity]-e[a.template.rarity]||t.template.name.localeCompare(a.template.name)}return t.slice().sort(a)},sortedCardsWithoutQuantity:function(t){var e,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e=this.show_starter?t:t.filter((function(t){return!t.is_starter})),""!==s&&(e=e.filter((function(t){return t.template.card_type===s}))),"All"!==this.selected_team&&"Player"===s&&i){var r=this.mixed_teams.find((function(t){return t.name===a.selected_team})),n=r.races;e=e.filter((function(t){return t.template.race.split("/").some((function(t){return n.includes(t)}))}))}return this.sortedCards(e)},sortedCardsWithQuantity:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={},s=this.sortedCardsWithoutQuantity(t,e),i=0,r=s.length;i<r;i+=1){var n=s[i].template.name;Object.prototype.hasOwnProperty.call(a,n)?a[n].quantity+=1:(a[n]={},a[n].card=s[i],a[n].quantity=1)}return a},is_locked:function(t){return!(!t.in_development_deck&&!t.in_imperium_deck)},injury_to_api_injury:function(t){var e;switch(t){case"Smashed Collarbone":e="SmashedCollarBone";break;default:e=t.replace(/[\s-]/g,"")}return e},skill_to_api_skill:function(t){var e;switch(t){case"Strength Up!":case"ST+":case"+ST":e="IncreaseStrength";break;case"Agility Up!":case"AG+":case"+AG":e="IncreaseAgility";break;case"Movement Up!":case"MA+":case"+MA":e="IncreaseMovement";break;case"Armour Up!":case"AV+":case"+AV":e="IncreaseArmour";break;case"Nerves of Steel":e="NervesOfSteel";break;case"Sidestep":e="SideStep";break;case"Mutant Roshi's Scare School":return"";default:e=t.replace(/[\s-]/g,"")}return e},imgs_for_skill:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.skill_to_api_skill(t),s="https://cdn2.rebbl.net/images/skills/",i=e?"skill_double":"skill_single";return'<img class="skill_icon "'.concat(i,'" src="').concat(s+a,'.png" title="').concat(t,'"></img>')},skill_names_for_player_card:function(t){var e,a=this;if("Player"!==t.template.card_type)return t.template.name;e=["Unique","Legendary","Inducement","Blessed","Cursed"].includes(t.template.rarity)?t.template.description:t.template.name;var s,i=[];s=this.skillreg.exec(e);while(s)s.input.match("Pro Elf")&&"Pro"===s[1]||(s[1]?i.push(s[1]):s[2]&&i.push(s[2])),this.skillreg.lastIndex===s.index&&(this.skillreg.lastIndex+=1),s=this.skillreg.exec(e);return i.map((function(t){return a.skill_to_api_skill(t)}))},injury_names_for_player_card:function(t){var e,a=this;if("Player"!==t.template.card_type)return t.template.name;e=["Unique","Legendary","Inducement","Blessed","Cursed"].includes(t.template.rarity)?t.template.description:t.template.name;var s,i=[];s=this.injuryreg.exec(e);while(s)s[1]?i.push(s[1]):s[2]&&i.push(s[2]),this.injuryreg.lastIndex===s.index&&(this.injuryreg.lastIndex+=1),s=this.injuryreg.exec(e);return i.map((function(t){return a.injury_to_api_injury(t)}))},skills_for_player:function(t){var e=this,a=this.skill_names_for_player_card(t);return a.map((function(t){return e.imgs_for_skill(t)})).join("")},skills_for_special_and_staff:function(t){var e=this;if(!["Special Play","Staff","Upgrade","Reaction"].includes(t.template.card_type))return t.template.name;var a,s=t.template.description,i=[];a=this.skillreg.exec(s);while(a)"The Apple Pie Killer"===t.name&&"Block"===a[1]||(a[1]?i.push(a[1]):a[2]&&i.push(a[2])),this.skillreg.lastIndex===a.index&&(this.skillreg.lastIndex+=1),a=this.skillreg.exec(s);return i.map((function(t){return e.imgs_for_skill(t)})).join("")},skill_names_for:function(t){var e=[];switch(t.template.name){case"Block Party":e=["Block"];break;case"Dodge like a Honeybadger, Sting like the Floor":e=["Tackle"];break;case"Gengar Mode":e=["DirtyPlayer"];break;case"Roger Dodger":e=["Dodge"];break;case"Packing a Punch":e=["MightyBlow"];break;case"Ballhawk":e=["Wrestle","Tackle","StripBall"];break;case"Roadblock":e=["Block","Dodge","StandFirm"];break;case"Cold-Blooded Killer":e=["MightyBlow","PilingOn"];break;case"Sniper":e=["Accurate","StrongArm"];break;case"A Real Nuisance":e=["SideStep","DivingTackle"];break;case"Insect DNA":e=["TwoHeads","ExtraArms"];break;case"Super Wildcard":e=["MVPCondition"];break;case"I Didn't Read The Rules":e=["MVPCondition","MVPCondition","MVPCondition"];break;case"Counterfeit Skill Shop":e=["DivingTackle"];break;case"Laying the Smackdown":e=["Wrestle"];break;case"Need for Speed":e=["IncreaseMovement"];break;case"The Great Wall":e=["Guard"];break;case"Tubthumping":e=["PilingOn","JumpUp","Dauntless"];break;case"Training Wildcard":e=["MVPCondition2"];break;case"Sidestep":e=["SideStep"];break;case"Crowd Pleaser":e=["Frenzy","Juggernaut"];break;case"Designated Ball Carrier":e=["Block","SureHands"];break;case"Bodyguard":case"Hired Muscle":case"Personal Army":e=[];break;default:e=[t.template.name]}return e},skills_for:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("Player"===t.template.card_type)return this.skills_for_player(t);if(["Special Play","Staff","Upgrade","Reaction"].includes(t.template.card_type))return this.skills_for_special_and_staff(t);var s=this.skill_names_for(t),i=s.map((function(t){return e.imgs_for_skill(t,a)}));return i.join("")},number_of_assignments:function(t){return"Bodyguard"===t.template.name?1:"Hired Muscle"===t.template.name?2:"Personal Army"===t.template.name?3:"Training"!==t.template.card_type?0:"Super Wildcard"===t.template.name?3:t.template.description.match(/ one /)?1:t.template.description.match(/ three /)?3:1},print_date:function(t){var e=new Date(t),a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("default",a)},per_game:function(t,e){return e>=6?t/e:0}},computed:{skill_to_group_map:function(){var t=this,e={};return["G","A","P","S","M"].forEach((function(a){t.skills[a].forEach((function(t){e[t]=a})),t.skills[a].forEach((function(t){e[t.replace(/[\s-]/g,"")]=a}))})),e}}}),new s["a"]({render:function(t){return t(K)}}).$mount("#app")},"5aea":function(t,e,a){}});
//# sourceMappingURL=app.4ada734c.js.map